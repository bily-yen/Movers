"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4169],{29391:function(t,n,c){function isArqueroTable(t){return t&&"function"==typeof t.toArrowBuffer}c.r(n),c.d(n,{isArqueroTable:function(){return isArqueroTable}})},57938:function(t,n,c){c.r(n),c.d(n,{getArrowTableSchema:function(){return getArrowTableSchema},isArrowTable:function(){return isArrowTable},loadArrow:function(){return loadArrow}});var l=c(67363),f=c(95922);function isArrowTable(t){return t&&"function"==typeof t.getChild&&"function"==typeof t.toArray&&t.schema&&Array.isArray(t.schema.fields)}function getArrowTableSchema(t){return t.schema.fields.map(getArrowFieldSchema)}function getArrowFieldSchema(t){return{name:t.name,type:function(t){switch(t.typeId){case 2:return"integer";case 3:case 7:return"number";case 4:case 15:return"buffer";case 5:return"string";case 6:return"boolean";case 8:case 9:case 10:return"date";case 12:case 16:return"array";case 13:case 14:return"object";default:return"other"}}(t.type),nullable:t.nullable,databaseType:String(t.type)}}async function loadArrow(){return await c(61187)(`${f.cdn}${l.arrow11.resolve()}`)}},67363:function(t,n,c){c.r(n),c.d(n,{arquero:function(){return _},arrow11:function(){return D},arrow4:function(){return I},arrow9:function(){return O},d3:function(){return f},duckdb:function(){return L},exceljs:function(){return C},graphviz:function(){return m},highlight:function(){return b},htl:function(){return y},inputs:function(){return d},jszip:function(){return g},katex:function(){return h},leaflet:function(){return x},lodash:function(){return v},marked:function(){return E},mermaid:function(){return R},plot:function(){return p},sql:function(){return w},topojson:function(){return S},vega:function(){return A},vegalite:function(){return N},vegaliteApi:function(){return T}});var l=c(10170);let f=(0,l.dependency)("d3","7.8.5","dist/d3.min.js"),d=(0,l.dependency)("@observablehq/inputs","0.10.6","dist/inputs.min.js"),p=(0,l.dependency)("@observablehq/plot","0.6.13","dist/plot.umd.min.js"),m=(0,l.dependency)("@observablehq/graphviz","0.2.1","dist/graphviz.min.js"),b=(0,l.dependency)("@observablehq/highlight.js","2.0.0","highlight.min.js"),h=(0,l.dependency)("@observablehq/katex","0.11.1","dist/katex.min.js"),v=(0,l.dependency)("lodash","4.17.21","lodash.min.js"),y=(0,l.dependency)("htl","0.3.1","dist/htl.min.js"),g=(0,l.dependency)("jszip","3.10.1","dist/jszip.min.js"),E=(0,l.dependency)("marked","0.3.12","marked.min.js"),w=(0,l.dependency)("sql.js","1.8.0","dist/sql-wasm.js"),A=(0,l.dependency)("vega","5.22.1","build/vega.min.js"),N=(0,l.dependency)("vega-lite","5.6.0","build/vega-lite.min.js"),T=(0,l.dependency)("vega-lite-api","5.0.0","build/vega-lite-api.min.js"),I=(0,l.dependency)("apache-arrow","4.0.1","Arrow.es2015.min.js"),O=(0,l.dependency)("apache-arrow","9.0.0","+esm"),D=(0,l.dependency)("apache-arrow","11.0.0","+esm"),_=(0,l.dependency)("arquero","4.8.8","dist/arquero.min.js"),S=(0,l.dependency)("topojson-client","3.1.0","dist/topojson-client.min.js"),C=(0,l.dependency)("exceljs","4.3.0","dist/exceljs.min.js"),R=(0,l.dependency)("mermaid","9.2.2","dist/mermaid.min.js"),x=(0,l.dependency)("leaflet","1.9.3","dist/leaflet.js"),L=(0,l.dependency)("@duckdb/duckdb-wasm","1.24.0","+esm")},10170:function(t,n,c){function dependency(t,n,c){return{resolve:(l=c)=>`${t}@${n}/${l}`}}c.r(n),c.d(n,{dependency:function(){return dependency}})},76342:function(t,n,c){function canvas(t,n){var c=document.createElement("canvas");return c.width=t,c.height=n,c}c.r(n),c.d(n,{canvas:function(){return canvas}})},24937:function(t,n,c){function context2d(t,n,c){null==c&&(c=devicePixelRatio);var l=document.createElement("canvas");l.width=t*c,l.height=n*c,l.style.width=t+"px";var f=l.getContext("2d");return f.scale(c,c),f}c.r(n),c.d(n,{context2d:function(){return context2d}})},32938:function(t,n,c){function download(t,n="untitled",c="Save"){let l=document.createElement("a"),f=l.appendChild(document.createElement("button"));async function reset(){await new Promise(requestAnimationFrame),URL.revokeObjectURL(l.href),l.removeAttribute("href"),f.textContent=c,f.disabled=!1}return f.textContent=c,l.download=n,l.onclick=async n=>{if(f.disabled=!0,l.href)return reset();f.textContent="Savingâ€¦";try{let n=await ("function"==typeof t?t():t);f.textContent="Download",l.href=URL.createObjectURL(n)}catch(t){f.textContent=c}if(n.eventPhase)return reset();f.disabled=!1},l}c.r(n),c.d(n,{download:function(){return download}})},63380:function(t,n,c){c.r(n),c.d(n,{element:function(){return element}});var l={math:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function element(t,n){var c,f=t+="",d=f.indexOf(":");d>=0&&"xmlns"!==(f=t.slice(0,d))&&(t=t.slice(d+1));var p=l.hasOwnProperty(f)?document.createElementNS(l[f],t):document.createElement(t);if(n)for(var m in n)d=(f=m).indexOf(":"),c=n[m],d>=0&&"xmlns"!==(f=m.slice(0,d))&&(m=m.slice(d+1)),l.hasOwnProperty(f)?p.setAttributeNS(l[f],m,c):p.setAttribute(m,c);return p}},81820:function(t,n,c){c.r(n),c.d(n,{canvas:function(){return l.canvas},context2d:function(){return f.context2d},download:function(){return d.download},element:function(){return p.element},input:function(){return m.input},range:function(){return b.range},select:function(){return h.select},svg:function(){return v.svg},text:function(){return y.text},uid:function(){return g.uid}});var l=c(76342),f=c(24937),d=c(32938),p=c(63380),m=c(37585),b=c(57170),h=c(31106),v=c(55895),y=c(30281),g=c(81831)},37585:function(t,n,c){function input(t){var n=document.createElement("input");return null!=t&&(n.type=t),n}c.r(n),c.d(n,{input:function(){return input}})},57170:function(t,n,c){function range(t,n,c){1==arguments.length&&(n=t,t=null);var l=document.createElement("input");return l.min=t=null==t?0:+t,l.max=n=null==n?1:+n,l.step=null==c?"any":c=+c,l.type="range",l}c.r(n),c.d(n,{range:function(){return range}})},31106:function(t,n,c){function select(t){var n=document.createElement("select");return Array.prototype.forEach.call(t,function(t){var c=document.createElement("option");c.value=c.textContent=t,n.appendChild(c)}),n}c.r(n),c.d(n,{select:function(){return select}})},55895:function(t,n,c){function svg(t,n){var c=document.createElementNS("http://www.w3.org/2000/svg","svg");return c.setAttribute("viewBox",[0,0,t,n]),c.setAttribute("width",t),c.setAttribute("height",n),c}c.r(n),c.d(n,{svg:function(){return svg}})},30281:function(t,n,c){function text(t){return document.createTextNode(t)}c.r(n),c.d(n,{text:function(){return text}})},81831:function(t,n,c){c.r(n),c.d(n,{uid:function(){return uid}});var l=0;function uid(t){return new Id("O-"+(null==t?"":t+"-")+ ++l)}function Id(t){this.id=t,this.href=new URL(`#${t}`,location)+""}Id.prototype.toString=function(){return"url("+this.href+")"}},93874:function(t,n,c){let l;c.r(n),c.d(n,{DuckDBClient:function(){return DuckDBClient}});var f=c(29391),d=c(57938),p=c(67363),m=c(12149),b=c(95922);let DuckDBClient=class DuckDBClient{constructor(t){Object.defineProperties(this,{_db:{value:t}})}async queryStream(t,n){let c,l;let f=await this._db.connect();try{if(n?.length>0){let l=await f.prepare(t);c=await l.send(...n)}else c=await f.send(t);if((l=await c.next()).done)throw Error("missing first batch")}catch(t){throw await f.close(),t}return{schema:(0,d.getArrowTableSchema)(l.value),async *readRows(){try{for(;!l.done;)yield l.value.toArray(),l=await c.next()}finally{await f.close()}}}}async query(t,n){let c=await this.queryStream(t,n),l=[];for await(let t of c.readRows())for(let n of t)l.push(n);return l.schema=c.schema,l}async queryRow(t,n){let c=await this.queryStream(t,n),l=c.readRows();try{let{done:t,value:n}=await l.next();return t||!n.length?null:n[0]}finally{await l.return()}}async sql(t,...n){return await this.query(t.join("?"),n)}queryTag(t,...n){return[t.join("?"),n]}escape(t){return`"${t}"`}async describeTables(){let t=await this.query("SHOW TABLES");return t.map(({name:t})=>({name:t}))}async describeColumns({table:t}={}){let n=await this.query(`DESCRIBE ${this.escape(t)}`);return n.map(({column_name:t,column_type:n,null:c})=>({name:t,type:function(t){switch(t){case"BIGINT":case"HUGEINT":case"UBIGINT":return"bigint";case"DOUBLE":case"REAL":case"FLOAT":return"number";case"INTEGER":case"SMALLINT":case"TINYINT":case"USMALLINT":case"UINTEGER":case"UTINYINT":return"integer";case"BOOLEAN":return"boolean";case"DATE":case"TIMESTAMP":case"TIMESTAMP WITH TIME ZONE":return"date";case"VARCHAR":case"UUID":return"string";default:if(/^DECIMAL\(/.test(t))return"integer";return"other"}}(n),nullable:"NO"!==c,databaseType:n}))}static async of(t={},n={}){let c=await createDuckDB();return n.query?.castTimestampToDate===void 0&&(n={...n,query:{...n.query,castTimestampToDate:!0}}),n.query?.castBigIntToDouble===void 0&&(n={...n,query:{...n.query,castBigIntToDouble:!0}}),await c.open(n),await Promise.all(Object.entries(t).map(async([t,n])=>{if(n instanceof m.FileAttachment)await insertFile(c,t,n);else if((0,d.isArrowTable)(n))await insertArrowTable(c,t,n);else if(Array.isArray(n))await insertArray(c,t,n);else if((0,f.isArqueroTable)(n))await insertArqueroTable(c,t,n);else if("data"in n){let{data:l,...f}=n;(0,d.isArrowTable)(l)?await insertArrowTable(c,t,l,f):await insertArray(c,t,l,f)}else if("file"in n){let{file:l,...f}=n;await insertFile(c,t,l,f)}else throw Error(`invalid source: ${n}`)})),new DuckDBClient(c)}};async function insertFile(t,n,c,l){let f=await c.url();if(f.startsWith("blob:")){let n=await c.arrayBuffer();await t.registerFileBuffer(c.name,new Uint8Array(n))}else await t.registerFileURL(c.name,new URL(f,location).href,4);let d=await t.connect();try{switch(c.mimeType){case"text/csv":case"text/tab-separated-values":return await d.insertCSVFromPath(c.name,{name:n,schema:"main",...l}).catch(async t=>{if(t.toString().includes("Could not convert"))return await insertUntypedCSV(d,c,n);throw t});case"application/json":return await d.insertJSONFromPath(c.name,{name:n,schema:"main",...l});default:if(/\.arrow$/i.test(c.name)){let t=new Uint8Array(await c.arrayBuffer());return await d.insertArrowFromIPCStream(t,{name:n,schema:"main",...l})}if(/\.parquet$/i.test(c.name))return await d.query(`CREATE VIEW '${n}' AS SELECT * FROM parquet_scan('${c.name}')`);throw Error(`unknown file type: ${c.mimeType}`)}}finally{await d.close()}}async function insertUntypedCSV(t,n,c){let l=await t.prepare(`CREATE TABLE '${c}' AS SELECT * FROM read_csv_auto(?, ALL_VARCHAR=TRUE)`);return await l.send(n.name)}async function insertArrowTable(t,n,c,l){let f=await t.connect();try{await f.insertArrowTable(c,{name:n,schema:"main",...l})}finally{await f.close()}}async function insertArqueroTable(t,n,c){let l=await (0,d.loadArrow)(),f=l.tableFromIPC(c.toArrowBuffer());return await insertArrowTable(t,n,f)}async function insertArray(t,n,c,l){let f=await (0,d.loadArrow)(),p=f.tableFromJSON(c);return await insertArrowTable(t,n,p,l)}async function loadDuckDB(){let t=await c(61187)(`${b.cdn}${p.duckdb.resolve()}`),n=await t.selectBundle({mvp:{mainModule:`${b.cdn}${p.duckdb.resolve("dist/duckdb-mvp.wasm")}`,mainWorker:`${b.cdn}${p.duckdb.resolve("dist/duckdb-browser-mvp.worker.js")}`},eh:{mainModule:`${b.cdn}${p.duckdb.resolve("dist/duckdb-eh.wasm")}`,mainWorker:`${b.cdn}${p.duckdb.resolve("dist/duckdb-browser-eh.worker.js")}`}}),l=new t.ConsoleLogger;return{module:t,bundle:n,logger:l}}async function createDuckDB(){void 0===l&&(l=loadDuckDB());let{module:t,bundle:n,logger:c}=await l,f=await t.createWorker(n.mainWorker),d=new t.AsyncDuckDB(c,f);return await d.instantiate(n.mainModule),d}Object.defineProperty(DuckDBClient.prototype,"dialect",{value:"duckdb"})},12149:function(t,n,c){c.r(n),c.d(n,{AbstractFile:function(){return AbstractFile},FileAttachment:function(){return FileAttachment},FileAttachments:function(){return FileAttachments},NoFileAttachments:function(){return NoFileAttachments},ZipArchive:function(){return ZipArchive},enforceSchema:function(){return enforceSchema}});var l=(0,c(59038).Z)("	"),f=l.parse,d=l.parseRows;l.format,l.formatBody,l.formatRows,l.formatRow,l.formatValue;var p=c(76348);function autoType(t){for(var n in t){var c,l,f=t[n].trim();if(f){if("true"===f)f=!0;else if("false"===f)f=!1;else if("NaN"===f)f=NaN;else if(isNaN(c=+f)){if(!(l=f.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;m&&l[4]&&!l[7]&&(f=f.replace(/-/g,"/").replace(/T/," ")),f=new Date(f)}else f=c}else f=null;t[n]=f}return t}let m=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();var b=c(67363),h=c(95922),v=c(64054),y=c(78406),g=c(40538);async function remote_fetch(t){let n=await fetch(await t.url());if(!n.ok)throw Error(`Unable to load file: ${t.name}`);return n}function enforceSchema(t,n){let c=new Map(n.map(({name:t,type:n})=>[t,n]));return Object.assign(t.map(t=>(0,y.coerceRow)(t,c,n)),{schema:n})}async function fileAttachment_dsv(t,n,{array:c=!1,typed:l=!1}={}){let m=await t.text(),b="	"===n?c?d:f:c?p.Bj:p.ue;if("auto"===l&&!c){let t=b(m);return enforceSchema(t,(0,y.inferSchema)(t,t.columns))}return b(m,l&&autoType)}let AbstractFile=class AbstractFile{constructor(t,n){Object.defineProperty(this,"name",{value:t,enumerable:!0}),void 0!==n&&Object.defineProperty(this,"mimeType",{value:n+"",enumerable:!0})}async blob(){return(await remote_fetch(this)).blob()}async arrayBuffer(){return(await remote_fetch(this)).arrayBuffer()}async text(){return(await remote_fetch(this)).text()}async json(){return(await remote_fetch(this)).json()}async stream(){return(await remote_fetch(this)).body}async csv(t){return fileAttachment_dsv(this,",",t)}async tsv(t){return fileAttachment_dsv(this,"	",t)}async image(t){let n=await this.url();return new Promise((c,l)=>{let f=new Image;new URL(n,document.baseURI).origin!==new URL(location).origin&&(f.crossOrigin="anonymous"),Object.assign(f,t),f.onload=()=>c(f),f.onerror=()=>l(Error(`Unable to load file: ${this.name}`)),f.src=n})}async arrow({version:t=4}={}){switch(t){case 4:{let[t,n]=await Promise.all([(0,h.requireDefault)(b.arrow4.resolve()),remote_fetch(this)]);return t.Table.from(n)}case 9:{let[t,n]=await Promise.all([c(61187)(`${h.cdn}${b.arrow9.resolve()}`),remote_fetch(this)]);return t.tableFromIPC(n)}case 11:{let[t,n]=await Promise.all([c(61187)(`${h.cdn}${b.arrow11.resolve()}`),remote_fetch(this)]);return t.tableFromIPC(n)}default:throw Error(`unsupported arrow version: ${t}`)}}async sqlite(){return v.SQLiteDatabaseClient.open(remote_fetch(this))}async zip(){let[t,n]=await Promise.all([(0,h.requireDefault)(b.jszip.resolve()),this.arrayBuffer()]);return new ZipArchive(await t.loadAsync(n))}async xml(t="application/xml"){return(new DOMParser).parseFromString(await this.text(),t)}async html(){return this.xml("text/html")}async xlsx(){let[t,n]=await Promise.all([(0,h.requireDefault)(b.exceljs.resolve()),this.arrayBuffer()]);return new g.Workbook(await new t.Workbook().xlsx.load(n))}};let FileAttachment=class FileAttachment extends AbstractFile{constructor(t,n,c){super(n,c),Object.defineProperty(this,"_url",{value:t})}async url(){return await this._url+""}};function NoFileAttachments(t){throw Error(`File not found: ${t}`)}function FileAttachments(t){return Object.assign(n=>{let c=t(n+="");if(null==c)throw Error(`File not found: ${n}`);if("object"==typeof c&&"url"in c){let{url:t,mimeType:l}=c;return new FileAttachment(t,n,l)}return new FileAttachment(c,n)},{prototype:FileAttachment.prototype})}let ZipArchive=class ZipArchive{constructor(t){Object.defineProperty(this,"_",{value:t}),this.filenames=Object.keys(t.files).filter(n=>!t.files[n].dir)}file(t){let n=this._.file(t+="");if(!n||n.dir)throw Error(`file not found: ${t}`);return new ZipArchiveEntry(n)}};let ZipArchiveEntry=class ZipArchiveEntry extends AbstractFile{constructor(t){super(t.name),Object.defineProperty(this,"_",{value:t}),Object.defineProperty(this,"_url",{writable:!0})}async url(){return this._url||(this._url=this.blob().then(URL.createObjectURL))}async blob(){return this._.async("blob")}async arrayBuffer(){return this._.async("arraybuffer")}async text(){return this._.async("text")}async json(){return JSON.parse(await this.text())}}},43825:function(t,n,c){function buffer(t){return new Promise(function(n,c){var l=new FileReader;l.onload=function(){n(l.result)},l.onerror=c,l.readAsArrayBuffer(t)})}c.r(n),c.d(n,{buffer:function(){return buffer}})},46155:function(t,n,c){c.r(n),c.d(n,{buffer:function(){return l.buffer},text:function(){return f.text},url:function(){return d.url}});var l=c(43825),f=c(9974),d=c(12174)},9974:function(t,n,c){function text(t){return new Promise(function(n,c){var l=new FileReader;l.onload=function(){n(l.result)},l.onerror=c,l.readAsText(t)})}c.r(n),c.d(n,{text:function(){return text}})},12174:function(t,n,c){function url(t){return new Promise(function(n,c){var l=new FileReader;l.onload=function(){n(l.result)},l.onerror=c,l.readAsDataURL(t)})}c.r(n),c.d(n,{url:function(){return url}})},12238:function(t,n,c){c.r(n),c.d(n,{disposable:function(){return disposable}});var l=c(5243);function disposable(t,n){let c=!1;if("function"!=typeof n)throw Error("dispose is not a function");return{[Symbol.iterator]:l.that,next:()=>c?{done:!0}:(c=!0,{done:!1,value:t}),return:()=>(c=!0,n(t),{done:!0}),throw:()=>({done:c=!0})}}},7254:function(t,n,c){function*filter(t,n){for(var c,l=-1;!(c=t.next()).done;)n(c.value,++l)&&(yield c.value)}c.r(n),c.d(n,{filter:function(){return filter}})},26785:function(t,n,c){c.r(n),c.d(n,{disposable:function(){return l.disposable},filter:function(){return f.filter},input:function(){return d.input},map:function(){return p.map},observe:function(){return m.observe},queue:function(){return b.queue},range:function(){return h.range},valueAt:function(){return v.valueAt},worker:function(){return y.worker}});var l=c(12238),f=c(7254),d=c(28044),p=c(33921),m=c(61367),b=c(49042),h=c(52707),v=c(15890),y=c(8179)},28044:function(t,n,c){c.r(n),c.d(n,{input:function(){return input}});var l=c(61367);function input(t){return(0,l.observe)(function(n){var c=function(t){switch(t.type){case"button":case"submit":case"checkbox":return"click";case"file":return"change";default:return"input"}}(t),l=valueof(t);function inputted(){n(valueof(t))}return t.addEventListener(c,inputted),void 0!==l&&n(l),function(){t.removeEventListener(c,inputted)}})}function valueof(t){switch(t.type){case"range":case"number":return t.valueAsNumber;case"date":return t.valueAsDate;case"checkbox":return t.checked;case"file":return t.multiple?t.files:t.files[0];case"select-multiple":return Array.from(t.selectedOptions,t=>t.value);default:return t.value}}},33921:function(t,n,c){function*map(t,n){for(var c,l=-1;!(c=t.next()).done;)yield n(c.value,++l)}c.r(n),c.d(n,{map:function(){return map}})},61367:function(t,n,c){c.r(n),c.d(n,{observe:function(){return observe}});var l=c(5243);function observe(t){let n,c,f=!1,d=t(function(t){return c?(c(t),c=null):f=!0,n=t});if(null!=d&&"function"!=typeof d)throw Error("function"==typeof d.then?"async initializers are not supported":"initializer returned something, but not a dispose function");return{[Symbol.iterator]:l.that,throw:()=>({done:!0}),return:()=>(null!=d&&d(),{done:!0}),next:function(){return{done:!1,value:f?(f=!1,Promise.resolve(n)):new Promise(t=>c=t)}}}}},49042:function(t,n,c){c.r(n),c.d(n,{queue:function(){return queue}});var l=c(5243);function queue(t){let n;let c=[],f=t(function(t){return c.push(t),n&&(n(c.shift()),n=null),t});if(null!=f&&"function"!=typeof f)throw Error("function"==typeof f.then?"async initializers are not supported":"initializer returned something, but not a dispose function");return{[Symbol.iterator]:l.that,throw:()=>({done:!0}),return:()=>(null!=f&&f(),{done:!0}),next:function(){return{done:!1,value:c.length?Promise.resolve(c.shift()):new Promise(t=>n=t)}}}}},52707:function(t,n,c){function*range(t,n,c){t=+t,n=+n,c=(f=arguments.length)<2?(n=t,t=0,1):f<3?1:+c;for(var l=-1,f=0|Math.max(0,Math.ceil((n-t)/c));++l<f;)yield t+l*c}c.r(n),c.d(n,{range:function(){return range}})},15890:function(t,n,c){function valueAt(t,n){if(isFinite(n=+n)&&!(n<0)&&!(n!=n|0)){for(var c,l=-1;!(c=t.next()).done;)if(++l===n)return c.value}}c.r(n),c.d(n,{valueAt:function(){return valueAt}})},8179:function(t,n,c){c.r(n),c.d(n,{worker:function(){return worker}});var l=c(12238);function worker(t){let n=URL.createObjectURL(new Blob([t],{type:"text/javascript"})),c=new Worker(n);return(0,l.disposable)(c,()=>{c.terminate(),URL.revokeObjectURL(n)})}},46566:function(t,n,c){c.r(n),c.d(n,{html:function(){return f}});var l=c(19225);let f=(0,l.template)(function(t){var n=document.createElement("template");return n.innerHTML=t.trim(),document.importNode(n.content,!0)},function(){return document.createElement("span")})},7138:function(t,n,c){c.r(n),c.d(n,{AbstractFile:function(){return l.AbstractFile},FileAttachments:function(){return l.FileAttachments},Library:function(){return f.Library},applyDataTableOperations:function(){return m.__table},arrayIsPrimitive:function(){return m.arrayIsPrimitive},getArrowTableSchema:function(){return d.getArrowTableSchema},getSchema:function(){return m.getSchema},getTypeValidator:function(){return m.getTypeValidator},inferSchema:function(){return m.inferSchema},isArqueroTable:function(){return p.isArqueroTable},isArrowTable:function(){return d.isArrowTable},isDataArray:function(){return m.isDataArray},isDatabaseClient:function(){return m.isDatabaseClient},loadDataSource:function(){return m.loadDataSource},makeQueryTemplate:function(){return m.makeQueryTemplate},observe:function(){return b.observe}});var l=c(12149),f=c(64739),d=c(57938),p=c(29391),m=c(78406),b=c(61367)},53861:function(t,n,c){c.r(n),c.d(n,{leaflet:function(){return leaflet}});var l=c(67363);async function leaflet(t){let n=await t(l.leaflet.resolve());if(!n._style){let c=document.createElement("link");c.rel="stylesheet",c.href=await t.resolve(l.leaflet.resolve("dist/leaflet.css")),n._style=document.head.appendChild(c)}return n}},64739:function(t,n,c){c.r(n),c.d(n,{Library:function(){return x}});var l=c(88961),f=c(81820),d=c(46155),p=c(12149),m=c(26785),b=c(93874),h=c(46566),v=c(53861),y=c(21715),g=c(98843),E=c(30221),w=c(3666),A=c(15898),N=c(95545),T=c(95922),I=c(64054),O=c(54745),D=c(40667),_=c(70423),S=c(10282),C=c(67363),R=c(78406);let x=Object.assign(Object.defineProperties(function(t){let n=(0,T.requirer)(t);Object.defineProperties(this,Object.fromEntries(Object.entries({FileAttachment:()=>p.NoFileAttachments,Mutable:()=>E.Mutable,now:w.now,width:S.width,dot:()=>n(C.graphviz.resolve()),htl:()=>n(C.htl.resolve()),html:()=>h.html,md:()=>(0,y.md)(n),svg:()=>O.svg,tex:()=>(0,D.tex)(n),_:()=>n(C.lodash.resolve()),aq:()=>n.alias({"apache-arrow":C.arrow4.resolve()})(C.arquero.resolve()),Arrow:()=>n(C.arrow4.resolve()),d3:()=>n(C.d3.resolve()),DuckDBClient:()=>b.DuckDBClient,Inputs:()=>n(C.inputs.resolve()).then(t=>({...t,file:t.fileOf(p.AbstractFile)})),L:()=>(0,v.leaflet)(n),mermaid:()=>(0,g.mermaid)(n),Plot:()=>n(C.plot.resolve()),__query:()=>R.__query,require:()=>n,resolve:()=>N.resolve,SQLite:()=>(0,I.SQLite)(n),SQLiteDatabaseClient:()=>I.SQLiteDatabaseClient,topojson:()=>n(C.topojson.resolve()),vl:()=>(0,_.vl)(n),aapl:()=>new p.FileAttachment("https://static.observableusercontent.com/files/3ccff97fd2d93da734e76829b2b066eafdaac6a1fafdec0faf6ebc443271cfc109d29e80dd217468fcb2aff1e6bffdc73f356cc48feb657f35378e6abbbb63b9").csv({typed:!0}),alphabet:()=>new p.FileAttachment("https://static.observableusercontent.com/files/75d52e6c3130b1cae83cda89305e17b50f33e7420ef205587a135e8562bcfd22e483cf4fa2fb5df6dff66f9c5d19740be1cfaf47406286e2eb6574b49ffc685d").csv({typed:!0}),cars:()=>new p.FileAttachment("https://static.observableusercontent.com/files/048ec3dfd528110c0665dfa363dd28bc516ffb7247231f3ab25005036717f5c4c232a5efc7bb74bc03037155cb72b1abe85a33d86eb9f1a336196030443be4f6").csv({typed:!0}),citywages:()=>new p.FileAttachment("https://static.observableusercontent.com/files/39837ec5121fcc163131dbc2fe8c1a2e0b3423a5d1e96b5ce371e2ac2e20a290d78b71a4fb08b9fa6a0107776e17fb78af313b8ea70f4cc6648fad68ddf06f7a").csv({typed:!0}),diamonds:()=>new p.FileAttachment("https://static.observableusercontent.com/files/87942b1f5d061a21fa4bb8f2162db44e3ef0f7391301f867ab5ba718b225a63091af20675f0bfe7f922db097b217b377135203a7eab34651e21a8d09f4e37252").csv({typed:!0}),flare:()=>new p.FileAttachment("https://static.observableusercontent.com/files/a6b0d94a7f5828fd133765a934f4c9746d2010e2f342d335923991f31b14120de96b5cb4f160d509d8dc627f0107d7f5b5070d2516f01e4c862b5b4867533000").csv({typed:!0}),industries:()=>new p.FileAttachment("https://static.observableusercontent.com/files/76f13741128340cc88798c0a0b7fa5a2df8370f57554000774ab8ee9ae785ffa2903010cad670d4939af3e9c17e5e18e7e05ed2b38b848ac2fc1a0066aa0005f").csv({typed:!0}),miserables:()=>new p.FileAttachment("https://static.observableusercontent.com/files/31d904f6e21d42d4963ece9c8cc4fbd75efcbdc404bf511bc79906f0a1be68b5a01e935f65123670ed04e35ca8cae3c2b943f82bf8db49c5a67c85cbb58db052").json(),olympians:()=>new p.FileAttachment("https://static.observableusercontent.com/files/31ca24545a0603dce099d10ee89ee5ae72d29fa55e8fc7c9ffb5ded87ac83060d80f1d9e21f4ae8eb04c1e8940b7287d179fe8060d887fb1f055f430e210007c").csv({typed:!0}),penguins:()=>new p.FileAttachment("https://static.observableusercontent.com/files/715db1223e067f00500780077febc6cebbdd90c151d3d78317c802732252052ab0e367039872ab9c77d6ef99e5f55a0724b35ddc898a1c99cb14c31a379af80a").csv({typed:!0}),pizza:()=>new p.FileAttachment("https://static.observableusercontent.com/files/c653108ab176088cacbb338eaf2344c4f5781681702bd6afb55697a3f91b511c6686ff469f3e3a27c75400001a2334dbd39a4499fe46b50a8b3c278b7d2f7fb5").csv({typed:!0}),weather:()=>new p.FileAttachment("https://static.observableusercontent.com/files/693a46b22b33db0f042728700e0c73e836fa13d55446df89120682d55339c6db7cc9e574d3d73f24ecc9bc7eb9ac9a1e7e104a1ee52c00aab1e77eb102913c1f").csv({typed:!0}),DOM:f,Files:d,Generators:m,Promises:A}).map(property)))},{resolve:{get:()=>T.requireDefault.resolve,enumerable:!0,configurable:!0},require:{get:()=>T.requireDefault,set:T.setDefaultRequire,enumerable:!0,configurable:!0}}),{resolveFrom:l.f1,requireFrom:l.ZW});function property([t,n]){return[t,{value:n,writable:!0,enumerable:!0}]}},21715:function(t,n,c){c.r(n),c.d(n,{md:function(){return md}});var l=c(67363),f=c(19225);function md(t){return t(l.marked.resolve()).then(function(n){return(0,f.template)(function(c){var f=document.createElement("div");f.innerHTML=n(c,{langPrefix:""}).trim();var d=f.querySelectorAll("pre code[class]");return d.length>0&&t(l.highlight.resolve()).then(function(n){d.forEach(function(c){function done(){n.highlightBlock(c),c.parentNode.classList.add("observablehq--md-pre")}n.getLanguage(c.className)?done():t(l.highlight.resolve("async-languages/index.js")).then(f=>{if(f.has(c.className))return t(l.highlight.resolve("async-languages/"+f.get(c.className))).then(t=>{n.registerLanguage(c.className,t)})}).then(done,done)})}),f},function(){return document.createElement("div")})})}},98843:function(t,n,c){c.r(n),c.d(n,{mermaid:function(){return mermaid}});var l=c(67363),f=c(81831);async function mermaid(t){let n=await t(l.mermaid.resolve());return n.initialize({securityLevel:"loose",theme:"neutral"}),function(){let t=document.createElement("div");return t.innerHTML=n.render((0,f.uid)().id,String.raw.apply(String,arguments)),t.removeChild(t.firstChild)}}},30221:function(t,n,c){c.r(n),c.d(n,{Mutable:function(){return Mutable}});var l=c(61367);function Mutable(t){let n;Object.defineProperties(this,{generator:{value:(0,l.observe)(t=>void(n=t))},value:{get:()=>t,set:c=>n(t=c)}}),void 0!==t&&n(t)}},3666:function(t,n,c){function*now(){for(;;)yield Date.now()}c.r(n),c.d(n,{now:function(){return now}})},52984:function(t,n,c){function delay(t,n){return new Promise(function(c){setTimeout(function(){c(n)},t)})}c.r(n),c.d(n,{delay:function(){return delay}})},15898:function(t,n,c){c.r(n),c.d(n,{delay:function(){return l.delay},tick:function(){return f.tick},when:function(){return d.when}});var l=c(52984),f=c(22989),d=c(37782)},22989:function(t,n,c){c.r(n),c.d(n,{tick:function(){return tick}});var l=c(37782);function tick(t,n){return(0,l.when)(Math.ceil((Date.now()+1)/t)*t,n)}},37782:function(t,n,c){c.r(n),c.d(n,{when:function(){return when}});var l=new Map;function when(t,n){var c,f,d,p;return(c=l.get(t=+t))?c.then(()=>n):(c=Date.now())>=t?Promise.resolve(n):(f=c,d=t,p=new Promise(function(t){l.delete(d);var n=d-f;if(!(n>0))throw Error("invalid time");if(n>2147483647)throw Error("too long to wait");setTimeout(t,n)}),l.set(d,p),p).then(()=>n)}},95922:function(t,n,c){c.r(n),c.d(n,{cdn:function(){return f},requireDefault:function(){return d},requirer:function(){return requirer},setDefaultRequire:function(){return setDefaultRequire}});var l=c(88961);let f="https://cdn.observableusercontent.com/npm/",d=l.pF;function setDefaultRequire(t){d=t}function requirer(t){return null==t?d:(0,l.ZW)(t)}},95545:function(t,n,c){function resolve(t,n){if(/^(\w+:)|\/\//i.test(t))return t;if(/^[.]{0,2}\//i.test(t))return new URL(t,null==n?location:n).href;if(!t.length||/^[\s._]/.test(t)||/\s$/.test(t))throw Error("illegal name");return"https://unpkg.com/"+t}c.r(n),c.d(n,{resolve:function(){return resolve}})},64054:function(t,n,c){c.r(n),c.d(n,{SQLite:function(){return SQLite},SQLiteDatabaseClient:function(){return SQLiteDatabaseClient}});var l=c(67363),f=c(95922);async function SQLite(t){let[n,c]=await Promise.all([t(l.sql.resolve()),t.resolve(l.sql.resolve("dist/"))]);return n({locateFile:t=>`${c}${t}`})}let SQLiteDatabaseClient=class SQLiteDatabaseClient{constructor(t){Object.defineProperties(this,{_db:{value:t}})}static async open(t){let[n,c]=await Promise.all([SQLite(f.requireDefault),Promise.resolve(t).then(load)]);return new SQLiteDatabaseClient(new n.Database(c))}async query(t,n){return await exec(this._db,t,n)}async queryRow(t,n){return(await this.query(t,n))[0]||null}async explain(t,n){let c=await this.query(`EXPLAIN QUERY PLAN ${t}`,n);return element("pre",{className:"observablehq--inspect"},[text(c.map(t=>t.detail).join("\n"))])}async describeTables({schema:t}={}){return this.query(`SELECT NULLIF(schema, 'main') AS schema, name FROM pragma_table_list() WHERE type = 'table'${null==t?"":" AND schema = ?"} AND name NOT LIKE 'sqlite_%' ORDER BY schema, name`,null==t?[]:[t])}async describeColumns({schema:t,table:n}={}){if(null==n)throw Error("missing table");let c=await this.query(`SELECT name, type, "notnull" FROM pragma_table_info(?${null==t?"":", ?"}) ORDER BY cid`,null==t?[n]:[n,t]);if(!c.length)throw Error(`table not found: ${n}`);return c.map(({name:t,type:n,notnull:c})=>({name:t,type:function(t){switch(t){case"NULL":return"null";case"INT":case"INTEGER":case"TINYINT":case"SMALLINT":case"MEDIUMINT":case"BIGINT":case"UNSIGNED BIG INT":case"INT2":case"INT8":return"integer";case"TEXT":case"CLOB":case"DATE":case"DATETIME":return"string";case"REAL":case"DOUBLE":case"DOUBLE PRECISION":case"FLOAT":case"NUMERIC":return"number";case"BLOB":return"buffer";default:return/^(?:(?:(?:VARYING|NATIVE) )?CHARACTER|(?:N|VAR|NVAR)CHAR)\(/.test(t)?"string":/^(?:DECIMAL|NUMERIC)\(/.test(t)?"number":"other"}}(n),databaseType:n,nullable:!c}))}async describe(t){let n=await (void 0===t?this.query("SELECT name FROM sqlite_master WHERE type = 'table'"):this.query("SELECT * FROM pragma_table_info(?)",[t]));if(!n.length)throw Error("Not found");let{columns:c}=n;return element("table",{value:n},[element("thead",[element("tr",c.map(t=>element("th",[text(t)])))]),element("tbody",n.map(t=>element("tr",c.map(n=>element("td",[text(t[n])])))))])}async sql(){return this.query(...this.queryTag.apply(this,arguments))}queryTag(t,...n){return[t.join("?"),n]}};function load(t){return"string"==typeof t?fetch(t).then(load):t instanceof Response||t instanceof Blob?t.arrayBuffer().then(load):t instanceof ArrayBuffer?new Uint8Array(t):t}async function exec(t,n,c){let[l]=await t.exec(n,c);if(!l)return[];let{columns:f,values:d}=l,p=d.map(t=>Object.fromEntries(t.map((t,n)=>[f[n],t])));return p.columns=f,p}function element(t,n,c){2==arguments.length&&(c=n,n=void 0);let l=document.createElement(t);if(void 0!==n)for(let t in n)l[t]=n[t];if(void 0!==c)for(let t of c)l.appendChild(t);return l}function text(t){return document.createTextNode(t)}Object.defineProperty(SQLiteDatabaseClient.prototype,"dialect",{value:"sqlite"})},54745:function(t,n,c){c.r(n),c.d(n,{svg:function(){return f}});var l=c(19225);let f=(0,l.template)(function(t){var n=document.createElementNS("http://www.w3.org/2000/svg","g");return n.innerHTML=t.trim(),n},function(){return document.createElementNS("http://www.w3.org/2000/svg","g")})},78406:function(t,n,c){c.r(n),c.d(n,{__query:function(){return b},__table:function(){return __table},arrayIsPrimitive:function(){return arrayIsPrimitive},coerceRow:function(){return coerceRow},coerceToType:function(){return coerceToType},getSchema:function(){return getSchema},getTypeValidator:function(){return getTypeValidator},inferSchema:function(){return inferSchema},isDataArray:function(){return isDataArray},isDatabaseClient:function(){return isDatabaseClient},loadDataSource:function(){return loadDataSource},makeQueryTemplate:function(){return makeQueryTemplate}});var l=c(9757),f=c(12149),d=c(29391),p=c(57938),m=c(93874);function isDatabaseClient(t,n){return t&&("function"==typeof t.sql||"function"==typeof t.queryTag&&("function"==typeof t.query||"function"==typeof t.queryStream))&&("table"!==n||"function"==typeof t.describeColumns)&&t!==b}function isDataArray(t){return Array.isArray(t)&&(isQueryResultSetSchema(t.schema)||isQueryResultSetColumns(t.columns)||function(t){let n=Math.min(20,t.length);for(let c=0;c<n;++c){let n=t[c];if(null===n||"object"!=typeof n)return!1}return n>0&&function(t){for(let n in t)return!0;return!1}(t[0])}(t)||arrayContainsPrimitives(t)||arrayContainsDates(t))||isTypedArray(t)}function isQueryResultSetSchema(t){return Array.isArray(t)&&t.every(isColumnSchema)}function isQueryResultSetColumns(t){return Array.isArray(t)&&t.every(t=>"string"==typeof t)}function isColumnSchema(t){return t&&"string"==typeof t.name&&"string"==typeof t.type}function arrayIsPrimitive(t){return isTypedArray(t)||arrayContainsPrimitives(t)||arrayContainsDates(t)}function arrayContainsPrimitives(t){let n;let c=Math.min(20,t.length);if(!(c>0))return!1;let l=!1;for(let f=0;f<c;++f){let c=t[f];if(null==c)continue;let d=typeof c;if(void 0===n)switch(d){case"number":case"boolean":case"string":case"bigint":n=d;break;default:return!1}else if(d!==n)return!1;l=!0}return l}function arrayContainsDates(t){let n=Math.min(20,t.length);if(!(n>0))return!1;let c=!1;for(let l=0;l<n;++l){let n=t[l];if(null!=n){if(!(n instanceof Date))return!1;c=!0}}return c}function isTypedArray(t){return t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array}let b=Object.assign(async(t,n,c,l)=>{if(isDatabaseClient(t=await v(await t,l)))return evaluateQuery(t,makeQueryTemplate(n,t),c);if(isDataArray(t))return __table(t,n);if(!t)throw Error("missing data source");throw Error("invalid data source")},{sql:(t,n,c)=>async function(){return evaluateQuery(await y(await t,c),arguments,n)}});async function loadDataSource(t,n,c){switch(n){case"chart":return h(t);case"table":return v(t,c);case"sql":return y(t,c)}return t}function sourceCache(t){let n=new WeakMap;return(c,l)=>{if(!c||"object"!=typeof c)throw Error("invalid data source");let f=n.get(c);return(!f||isDataArray(c)&&c.length!==f._numRows)&&((f=t(c,l))._numRows=c.length,n.set(c,f)),f}}let h=sourceCache(async t=>{if(t instanceof f.FileAttachment){switch(t.mimeType){case"text/csv":return t.csv({typed:"auto"});case"text/tab-separated-values":return t.tsv({typed:"auto"});case"application/json":return t.json()}throw Error(`unsupported file type: ${t.mimeType}`)}return t}),v=sourceCache(async(t,n)=>{if(t instanceof f.FileAttachment){switch(t.mimeType){case"text/csv":return t.csv();case"text/tab-separated-values":return t.tsv();case"application/json":return t.json();case"application/x-sqlite3":return t.sqlite()}if(/\.(arrow|parquet)$/i.test(t.name))return loadDuckDBClient(t,n);throw Error(`unsupported file type: ${t.mimeType}`)}return(0,p.isArrowTable)(t)||(0,d.isArqueroTable)(t)?loadDuckDBClient(t,n):isDataArray(t)&&arrayIsPrimitive(t)?Array.from(t,t=>({value:t})):t}),y=sourceCache(async(t,n)=>{if(t instanceof f.FileAttachment){switch(t.mimeType){case"text/csv":case"text/tab-separated-values":case"application/json":return loadDuckDBClient(t,n);case"application/x-sqlite3":return t.sqlite()}if(/\.(arrow|parquet)$/i.test(t.name))return loadDuckDBClient(t,n);throw Error(`unsupported file type: ${t.mimeType}`)}return isDataArray(t)?loadDuckDBClient(await asArrowTable(t,n),n):(0,p.isArrowTable)(t)||(0,d.isArqueroTable)(t)?loadDuckDBClient(t,n):t});async function asArrowTable(t,n){let c=await (0,p.loadArrow)();return arrayIsPrimitive(t)?c.tableFromArrays({[n]:t}):c.tableFromJSON(t)}function loadDuckDBClient(t,n=t instanceof f.FileAttachment?t.name.replace(/@\d+(?=\.|$)/,"").replace(/\.\w+$/,""):"__table"){return m.DuckDBClient.of({[n]:t})}async function evaluateQuery(t,n,c){if(!t)throw Error("missing data source");if("function"==typeof t.queryTag){let l=new AbortController,f={signal:l.signal};if(c.then(()=>l.abort("invalidated")),"function"==typeof t.queryStream)return accumulateQuery(t.queryStream(...t.queryTag.apply(t,n),f));if("function"==typeof t.query)return t.query(...t.queryTag.apply(t,n),f)}if("function"==typeof t.sql)return t.sql.apply(t,n);throw Error("source does not implement query, queryStream, or sql")}async function*accumulateQuery(t){let n=performance.now(),c=await t,l=[];l.done=!1,l.error=null,l.schema=c.schema;try{for await(let t of c.readRows())for(let c of(performance.now()-n>150&&l.length>0&&(yield l,n=performance.now()),t))l.push(c);l.done=!0,yield l}catch(t){l.error=t,yield l}}function makeQueryTemplate(t,n){let c="function"==typeof n.escape?n.escape:t=>t,{select:l,from:f,filter:d,sort:p,slice:m}=t;if(!f.table)throw Error("missing from table");if(l.columns&&0===l.columns.length)throw Error("at least one column must be selected");let b=new Map(t.names?.map(({column:t,name:n})=>[t,n])),h=l.columns?l.columns.map(t=>{let n=b.get(t);return n?`${c(t)} AS ${c(n)}`:c(t)}).join(", "):"*",v=[[`SELECT ${h} FROM ${function(t,n){if("object"!=typeof t)return n(t);{let c="";return null!=t.database&&(c+=n(t.database)+"."),null!=t.schema&&(c+=n(t.schema)+"."),c+=n(t.table)}}(f.table,c)}`]];for(let t=0;t<d.length;++t)appendSql(t?`
AND `:`
WHERE `,v),function({type:t,operands:n},c,l){if(n.length<1)throw Error("Invalid operand length");if(1===n.length||"v"===t||"nv"===t)switch(appendOperand(n[0],c,l),t){case"n":case"nv":appendSql(" IS NULL",c);return;case"nn":case"v":appendSql(" IS NOT NULL",c);return;default:throw Error("Invalid filter operation")}if(2===n.length){if(["in","nin"].includes(t));else if(["c","nc"].includes(t)){var f;switch(appendOperand(n[0],c,l),t){case"c":appendSql(" LIKE ",c);break;case"nc":appendSql(" NOT LIKE ",c)}appendOperand({...f=n[1],value:`%${f.value}%`},c,l);return}else{switch(appendOperand(n[0],c,l),t){case"eq":appendSql(" = ",c);break;case"ne":appendSql(" <> ",c);break;case"gt":appendSql(" > ",c);break;case"lt":appendSql(" < ",c);break;case"gte":appendSql(" >= ",c);break;case"lte":appendSql(" <= ",c);break;default:throw Error("Invalid filter operation")}appendOperand(n[1],c,l);return}}switch(appendOperand(n[0],c,l),t){case"in":appendSql(" IN (",c);break;case"nin":appendSql(" NOT IN (",c);break;default:throw Error("Invalid filter operation")}(function(t,n){let c=!0;for(let l of t)c?c=!1:appendSql(",",n),n.push(l.value),n[0].push("")})(n.slice(1),c),appendSql(")",c)}(d[t],v,c);for(let t=0;t<p.length;++t)appendSql(t?", ":`
ORDER BY `,v),appendOrderBy(p[t],v,c);if("mssql"===n.dialect||"oracle"===n.dialect){if(null!==m.to||null!==m.from){if(!p.length){if(!l.columns)throw Error("at least one column must be explicitly specified. Received '*'.");appendSql(`
ORDER BY `,v),appendOrderBy({column:l.columns[0],direction:"ASC"},v,c)}appendSql(`
OFFSET ${m.from||0} ROWS`,v),appendSql(`
FETCH NEXT ${null!==m.to?m.to-(m.from||0):1e9} ROWS ONLY`,v)}}else(null!==m.to||null!==m.from)&&appendSql(`
LIMIT ${null!==m.to?m.to-(m.from||0):1e9}`,v),null!==m.from&&appendSql(` OFFSET ${m.from}`,v);return v}function appendSql(t,n){let c=n[0];c[c.length-1]+=t}function appendOrderBy({column:t,direction:n},c,l){appendSql(`${l(t)} ${n.toUpperCase()}`,c)}function appendOperand(t,n,c){"column"===t.type?appendSql(c(t.value),n):(n.push(t.value),n[0].push(""))}function defined(t,n){return(null==t||!(t>=t))-(null==n||!(n>=n))}function ascendingDefined(t,n){return defined(t,n)||(t<n?-1:t>n?1:0)}function descendingDefined(t,n){return defined(t,n)||(t>n?-1:t<n?1:0)}let isValidNumber=t=>"number"==typeof t&&!Number.isNaN(t),isValidInteger=t=>Number.isInteger(t)&&!Number.isNaN(t),isValidString=t=>"string"==typeof t,isValidBoolean=t=>"boolean"==typeof t,isValidBigint=t=>"bigint"==typeof t,isValidDate=t=>t instanceof Date&&!isNaN(t),isValidBuffer=t=>t instanceof ArrayBuffer,isValidArray=t=>Array.isArray(t),isValidObject=t=>"object"==typeof t&&null!==t,isValidOther=t=>null!=t;function getTypeValidator(t){switch(t){case"string":return isValidString;case"bigint":return isValidBigint;case"boolean":return isValidBoolean;case"number":return isValidNumber;case"integer":return isValidInteger;case"date":return isValidDate;case"buffer":return isValidBuffer;case"array":return isValidArray;case"object":return isValidObject;default:return isValidOther}}let g=/^(([-+]\d{2})?\d{4}(-\d{2}(-\d{2}))|(\d{1,2})\/(\d{1,2})\/(\d{2,4}))([T ]\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/;function coerceToType(t,n){switch(n){case"string":return"string"==typeof t||null==t?t:String(t);case"boolean":if("string"==typeof t){let n=t.trim().toLowerCase();return"true"===n||"false"!==n&&null}return"boolean"==typeof t||null==t?t:!!t;case"bigint":return"bigint"==typeof t||null==t?t:Number.isInteger("string"!=typeof t||t.trim()?+t:NaN)?BigInt(t):void 0;case"integer":case"number":return"number"==typeof t?t:null!=t&&("string"!=typeof t||t.trim())?Number(t):NaN;case"date":{if(t instanceof Date||null==t)return t;if("number"==typeof t)return new Date(t);let n=String(t).trim();if("string"==typeof t&&!n)return null;return new Date(g.test(n)?n:NaN)}case"array":case"object":case"buffer":case"other":return t;default:throw Error(`Unable to coerce to type: ${n}`)}}function getSchema(t){let{columns:n}=t,{schema:c}=t;return isQueryResultSetSchema(c)?{schema:c,inferred:!1}:{schema:c=inferSchema(t,isQueryResultSetColumns(n)?n:void 0),inferred:!0}}function applyTypes(t,n){let c=t,{schema:l,inferred:f}=getSchema(t),d=new Map(l.map(({name:t,type:n})=>[t,n]));if(n.types){for(let{name:t,type:f}of n.types){d.set(t,f),l===c.schema&&(l=l.slice());let n=l.findIndex(n=>n.name===t);n>-1&&(l[n]={...l[n],type:f})}t=t.map(t=>coerceRow(t,d,l))}else f&&(t=t.map(t=>coerceRow(t,d,l)));return{source:t,schema:l}}function applyNames(t,n){if(!n.names)return t;let c=new Map(n.names.map(t=>[t.column,t]));return t.map(t=>Object.fromEntries(Object.keys(t).map(n=>{let l=c.get(n);return[l?.name??n,t[n]]})))}function __table(t,n){let c=new Map,l=t,f=applyTypes(t,n);t=f.source;let d=f.schema;if(n.derive){let l=[];n.derive.map(({name:f,value:d})=>{let p=[];applyNames(t,n).map((t,n)=>{let c;try{c=d(t)}catch(t){p.push({index:n,error:t}),c=void 0}l[n]?l[n]={...l[n],[f]:c}:l.push({[f]:c})}),p.length&&c.set(f,p)});let f=applyTypes(l,n);t=t.map((t,n)=>({...t,...f.source[n]})),d=[...d,...f.schema]}for(let{type:c,operands:l}of n.filter){let[{value:n}]=l,f=l.slice(1).map(({value:t})=>t);switch(c){case"v":{let[c]=f,l=getTypeValidator(c);t=t.filter(t=>l(t[n]));break}case"nv":{let[c]=f,l=getTypeValidator(c);t=t.filter(t=>!l(t[n]));break}case"eq":{let[c]=f;if(c instanceof Date){let l=+c;t=t.filter(t=>+t[n]===l)}else t=t.filter(t=>t[n]===c);break}case"ne":{let[c]=f;t=t.filter(t=>t[n]!==c);break}case"c":{let[c]=f;t=t.filter(t=>"string"==typeof t[n]&&t[n].includes(c));break}case"nc":{let[c]=f;t=t.filter(t=>"string"==typeof t[n]&&!t[n].includes(c));break}case"in":{let c=new Set(f);t=t.filter(t=>c.has(t[n]));break}case"nin":{let c=new Set(f);t=t.filter(t=>!c.has(t[n]));break}case"n":t=t.filter(t=>null==t[n]);break;case"nn":t=t.filter(t=>null!=t[n]);break;case"lt":{let[c]=f;t=t.filter(t=>t[n]<c);break}case"lte":{let[c]=f;t=t.filter(t=>t[n]<=c);break}case"gt":{let[c]=f;t=t.filter(t=>t[n]>c);break}case"gte":{let[c]=f;t=t.filter(t=>t[n]>=c);break}default:throw Error(`unknown filter type: ${c}`)}}for(let{column:c,direction:f}of function(t){if("function"!=typeof t[Symbol.iterator])throw TypeError("values is not iterable");return Array.from(t).reverse()}(n.sort)){let n="desc"===f?descendingDefined:ascendingDefined;t===l&&(t=t.slice()),t.sort((t,l)=>n(t[c],l[c]))}let{from:p,to:m}=n.slice;p=null==p?0:Math.max(0,p),m=null==m?1/0:Math.max(0,m),(p>0||m<1/0)&&(t=t.slice(Math.max(0,p),Math.max(0,m)));let b=d.slice();if(n.select.columns){if(d){let t=new Map(d.map(t=>[t.name,t]));d=n.select.columns.map(n=>t.get(n))}t=t.map(t=>Object.fromEntries(n.select.columns.map(n=>[n,t[n]])))}if(n.names){let c=new Map(n.names.map(t=>[t.column,t]));d&&(d=d.map(t=>{let n=c.get(t.name);return{...t,...n?{name:n.name}:null}})),b&&(b=b.map(t=>{let n=c.get(t.name);return{...t,...n?{name:n.name}:null}})),t=applyNames(t,n)}return t!==l&&d&&(t.schema=d),t.fullSchema=b,t.errors=c,t}function coerceRow(t,n,c){let l={};for(let f of c){let c=n.get(f.name),d=t[f.name];l[f.name]="raw"===c?d:coerceToType(d,c)}return l}let E=["boolean","integer","number","date","bigint","array","object","buffer"];function inferSchema(t,n=function(t){let n=new Set;for(let c of t)if(c)for(let t in c)Object.prototype.hasOwnProperty.call(c,t)&&n.add(t);return Array.from(n)}(t)){let c=[],f=t.slice(0,100),d={};for(let t of n){let n=d[t]={boolean:0,integer:0,number:0,date:0,string:0,array:0,object:0,bigint:0,buffer:0,defined:0};for(let c of f){let l=c[t];if(null==l)continue;let f=typeof l;if("string"!==f)++n.defined,Array.isArray(l)?++n.array:l instanceof Date?++n.date:l instanceof ArrayBuffer?++n.buffer:"number"===f?(++n.number,Number.isInteger(l)&&++n.integer):f in n&&++n[f];else{if(!(l=l.trim()))continue;++n.defined,++n.string,/^(true|false)$/i.test(l)?++n.boolean:l&&!isNaN(l)?(++n.number,Number.isInteger(+l)&&++n.integer):g.test(l)&&++n.date}}let p=Math.max(1,.9*n.defined),m=function(t,n=l.Z){let c;let f=!1;if(1===n.length){let d;for(let p of t){let t=n(p);(f?(0,l.Z)(t,d)>0:0===(0,l.Z)(t,t))&&(c=p,d=t,f=!0)}}else for(let l of t)(f?n(l,c)>0:0===n(l,l))&&(c=l,f=!0);return c}(E,t=>n[t]>=p?n[t]:NaN)??(n.string>=p?"string":"other");c.push({name:t,type:m,inferred:m})}return c}},19225:function(t,n,c){function template(t,n){return function(c){var l,f,d,p,m,b,h,v,y=c[0],g=[],E=null,w=-1;for(m=1,b=arguments.length;m<b;++m){if(l=arguments[m],l instanceof Node)g[++w]=l,y+="<!--o:"+w+"-->";else if(Array.isArray(l)){for(h=0,v=l.length;h<v;++h)(f=l[h])instanceof Node?(null===E&&(g[++w]=E=document.createDocumentFragment(),y+="<!--o:"+w+"-->"),E.appendChild(f)):(E=null,y+=f);E=null}else y+=l;y+=c[m]}if(E=t(y),++w>0){for(d=Array(w),p=document.createTreeWalker(E,NodeFilter.SHOW_COMMENT,null,!1);p.nextNode();)f=p.currentNode,/^o:/.test(f.nodeValue)&&(d[+f.nodeValue.slice(2)]=f);for(m=0;m<w;++m)(f=d[m])&&f.parentNode.replaceChild(g[m],f)}return 1===E.childNodes.length?E.removeChild(E.firstChild):11===E.nodeType?((f=n()).appendChild(E),f):E}}c.r(n),c.d(n,{template:function(){return template}})},40667:function(t,n,c){c.r(n),c.d(n,{tex:function(){return tex}});var l=c(67363),f=String.raw;function style(t){return new Promise(function(n,c){var l=document.createElement("link");l.rel="stylesheet",l.href=t,l.onerror=c,l.onload=n,document.head.appendChild(l)})}function tex(t){return Promise.all([t(l.katex.resolve()),t.resolve(l.katex.resolve("dist/katex.min.css")).then(style)]).then(function(t){var n=t[0],c=renderer();function renderer(t){return function(){var c=document.createElement("div");return n.render(f.apply(String,arguments),c,t),c.removeChild(c.firstChild)}}return c.options=renderer,c.block=renderer({displayMode:!0}),c})}},5243:function(t,n,c){function that(){return this}c.r(n),c.d(n,{that:function(){return that}})},70423:function(t,n,c){c.r(n),c.d(n,{vl:function(){return vl}});var l=c(67363);async function vl(t){let[n,c,f]=await Promise.all([l.vega,l.vegalite,l.vegaliteApi].map(n=>t(n.resolve())));return f.register(n,c)}},10282:function(t,n,c){c.r(n),c.d(n,{width:function(){return width}});var l=c(61367);function width(){return(0,l.observe)(function(t){var n=t(document.body.clientWidth);function resized(){var c=document.body.clientWidth;c!==n&&t(n=c)}return window.addEventListener("resize",resized),function(){window.removeEventListener("resize",resized)}})}},40538:function(t,n,c){c.r(n),c.d(n,{Workbook:function(){return Workbook}});let Workbook=class Workbook{constructor(t){Object.defineProperties(this,{_:{value:t},sheetNames:{value:t.worksheets.map(t=>t.name),enumerable:!0}})}sheet(t,n){let c="number"==typeof t?this.sheetNames[t]:this.sheetNames.includes(t+="")?t:null;if(null==c)throw Error(`Sheet not found: ${t}`);let l=this._.getWorksheet(c);return function(t,{range:n,headers:c}={}){let[[l,f],[d,p]]=function(t=":",{columnCount:n,rowCount:c}){if(!(t+="").match(/^[A-Z]*\d*:[A-Z]*\d*$/))throw Error("Malformed range specifier");let[[l=0,f=0],[d=n-1,p=c-1]]=t.split(":").map(fromCellReference);return[[l,f],[d,p]]}(n,t),m=c?t._rows[f++]:null,b=new Set(["#"]);for(let t=l;t<=d;t++){let n=m?valueOf(m.findCell(t+1)):null,c=n&&n+""||function(t){let n="";t++;do n=String.fromCharCode(64+(t%26||26))+n;while(t=Math.floor((t-1)/26));return n}(t);for(;b.has(c);)c+="_";b.add(c)}b=Array(l).concat(Array.from(b));let h=Array(p-f+1);for(let n=f;n<=p;n++){let c=h[n-f]=Object.create(null,{"#":{value:n+1}}),p=t.getRow(n+1);if(p.hasValues)for(let t=l;t<=d;t++){let n=valueOf(p.findCell(t+1));null!=n&&(c[b[t+1]]=n)}}return h.columns=b.filter(()=>!0),h}(l,n)}};function valueOf(t){if(!t)return;let{value:n}=t;if(n&&"object"==typeof n&&!(n instanceof Date)){if(n.formula||n.sharedFormula)return n.result&&n.result.error?NaN:n.result;if(n.richText)return richText(n);if(n.text){let{text:t}=n;return t.richText&&(t=richText(t)),n.hyperlink&&n.hyperlink!==t?`${n.hyperlink} ${t}`:t}}return n}function richText(t){return t.richText.map(t=>t.text).join("")}function fromCellReference(t){let[,n,c]=t.match(/^([A-Z]*)(\d*)$/),l=0;if(n)for(let t=0;t<n.length;t++)l+=Math.pow(26,n.length-t-1)*(n.charCodeAt(t)-64);return[l?l-1:void 0,c?+c-1:void 0]}},27522:function(t,n,c){c.d(n,{r9:function(){return U},Y4:function(){return L},vz:function(){return R},uf:function(){return M},wt:function(){return G},jI:function(){return q},kR:function(){return useListboxContext}});var l,f,d=c(67294),p=c(85310),m=c(40012),b=c(78683);/**
  * @reach/utils v0.18.0
  *
  * Copyright (c) 2018-2022, React Training LLC
  *
  * This source code is licensed under the MIT license found in the
  * LICENSE.md file in the root directory of this source tree.
  *
  * @license MIT
  */function canUseDOM(){return!!("undefined"!=typeof window&&window.document&&window.document.createElement)}function composeEventHandlers(t,n){return c=>{if(t&&t(c),!c.defaultPrevented)return n(c)}}function isFunction(t){return!!(t&&"[object Function]"==({}).toString.call(t))}function useComposedRefs(...t){return(0,d.useCallback)(n=>{for(let c of t)!function(t,n){if(null!=t){if(isFunction(t))t(n);else try{t.current=n}catch(c){throw Error(`Cannot assign value "${n}" to ref "${t}"`)}}}(c,n)},t)}function createNamedContext(t,n){let c=d.createContext(n);return c.displayName=t,c}function isRightClick(t){return"which"in t?3===t.which:"button"in t&&2===t.button}function makeId(...t){return t.filter(t=>null!=t).join("--")}var h=canUseDOM()?d.useLayoutEffect:d.useEffect;(l=f||(f={}))[l.NotStarted=0]="NotStarted",l[l.Running=1]="Running",l[l.Stopped=2]="Stopped";var v={type:"xstate.init"};function e(t){return void 0===t?[]:[].concat(t)}function r(t){return{type:"xstate.assign",assignment:t}}function i(t,n){return"string"==typeof(t="string"==typeof t&&n&&n[t]?n[t]:t)?{type:t}:"function"==typeof t?{type:t.name,exec:t}:t}function o(t){return function(n){return t===n}}function a(t){return"string"==typeof t?{type:t}:t}function u(t,n){return{value:t,context:n,actions:[],changed:!1,matches:o(t)}}var s=function(t,n){return t.actions.forEach(function(c){var l=c.exec;return l&&l(t.context,n)})};function reach_utils_useConstant(t){let n=(0,d.useRef)();return n.current||(n.current={v:t()}),n.current.v}"undefined"!=typeof window&&window.document&&window.document.createElement?d.useLayoutEffect:d.useEffect;/**
  * @reach/machine v0.18.0
  *
  * Copyright (c) 2018-2022, React Training LLC
  *
  * This source code is licensed under the MIT license found in the
  * LICENSE.md file in the root directory of this source tree.
  *
  * @license MIT
  */var getServiceState=t=>{let n;return t.subscribe(t=>{n=t}).unsubscribe(),n},y=r({navigationValue:null}),g=r({typeaheadQuery:null}),E=r({value:(t,n)=>n.value}),w=r({value:(t,n)=>t.initialValue}),A=r({navigationValue:(t,n)=>n.value}),N=r({navigationValue:t=>{var n,c;let l=(n=t.value,c=t.options,n?c.find(t=>t.value===n):void 0);return l&&!l.disabled?t.value:t.options.find(t=>!t.disabled)?.value||null}});function listboxLostFocus(t,n){if("BLUR"===n.type){let{list:t,popover:c}=n.refs,{relatedTarget:l}=n,f=canUseDOM()?c?c.ownerDocument:document:null;return!!(f?.activeElement!==t&&c&&!c.contains(l||f?.activeElement))}return!1}function clickedOutsideOfListbox(t,n){if("OUTSIDE_MOUSE_DOWN"===n.type||"OUTSIDE_MOUSE_UP"===n.type){let{button:t,popover:c}=n.refs,{relatedTarget:l}=n;return!!(l!==t&&t&&!t.contains(l)&&c&&!c.contains(l))}return!1}function optionIsActive(t,n){return!!t.options.find(n=>n.value===t.navigationValue)}function shouldNavigate(t,n){let{popover:c,list:l}=n.refs,{relatedTarget:f}=n;return(!(c&&f&&c.contains(f))||f===l)&&optionIsActive(t,n)}function focusList(t,n){requestAnimationFrame(()=>{n.refs.list&&n.refs.list.focus()})}function focusButton(t,n){n.refs.button&&n.refs.button.focus()}function listboxIsNotDisabled(t,n){return!n.disabled}function listboxIsNotControlled(t,n){return"isControlled"in n&&!n.isControlled}function optionIsNavigable(t,n){return"OPTION_TOUCH_START"!==n.type||!n||!n.disabled}function optionIsSelectable(t,n){return(!("disabled"in n)||!n.disabled)&&("value"in n?null!=n.value:null!=t.navigationValue)}function selectOption(t,n){n.callback&&n.callback(n.value)}function submitForm(t,n){if("KEY_DOWN_ENTER"!==n.type)return;let{hiddenInput:c}=n.refs;if(c&&c.form){let t=c.form.querySelector("button:not([type]),[type='submit']");t&&t.click()}}var T=r({typeaheadQuery:(t,n)=>(t.typeaheadQuery||"")+n.query}),I=r({value:(t,n)=>{if("UPDATE_AFTER_TYPEAHEAD"===n.type&&n.query){let c=findOptionFromTypeahead(t.options,n.query);if(c&&!c.disabled)return n.callback&&n.callback(c.value),c.value}return t.value}}),O=r({navigationValue:(t,n)=>{if("UPDATE_AFTER_TYPEAHEAD"===n.type&&n.query){let c=findOptionFromTypeahead(t.options,n.query);if(c&&!c.disabled)return c.value}return t.navigationValue}}),D={GET_DERIVED_DATA:{actions:r((t,n)=>({...t,...n.data}))},VALUE_CHANGE:{actions:[E,selectOption]}},createMachineDefinition=({value:t})=>({id:"listbox",initial:"IDLE",context:{initialValue:t,value:t,options:[],navigationValue:null,typeaheadQuery:null},states:{IDLE:{on:{...D,BUTTON_MOUSE_DOWN:{target:"OPEN",actions:[N],cond:listboxIsNotDisabled},KEY_DOWN_SPACE:{target:"NAVIGATING",actions:[N,focusList],cond:listboxIsNotDisabled},KEY_DOWN_SEARCH:{target:"IDLE",actions:T,cond:listboxIsNotDisabled},UPDATE_AFTER_TYPEAHEAD:{target:"IDLE",actions:[I],cond:listboxIsNotDisabled},CLEAR_TYPEAHEAD:{target:"IDLE",actions:g},KEY_DOWN_NAVIGATE:{target:"NAVIGATING",actions:[N,g,focusList],cond:listboxIsNotDisabled},KEY_DOWN_ENTER:{actions:[submitForm],cond:listboxIsNotDisabled},RESET_VALUE:{actions:[w,selectOption],cond:listboxIsNotControlled}}},INTERACTING:{entry:[y],on:{...D,CLEAR_NAV_SELECTION:{actions:[y,focusList]},KEY_DOWN_ENTER:{target:"IDLE",actions:[E,g,focusButton,selectOption],cond:optionIsSelectable},KEY_DOWN_SPACE:{target:"IDLE",actions:[E,g,focusButton,selectOption],cond:optionIsSelectable},BUTTON_MOUSE_DOWN:{target:"IDLE",actions:[focusButton]},KEY_DOWN_ESCAPE:{target:"IDLE",actions:[focusButton]},OPTION_MOUSE_DOWN:{target:"DRAGGING"},OUTSIDE_MOUSE_DOWN:[{target:"IDLE",cond:clickedOutsideOfListbox,actions:g},{target:"DRAGGING",actions:g,cond:optionIsActive}],OUTSIDE_MOUSE_UP:[{target:"IDLE",cond:clickedOutsideOfListbox,actions:g},{target:"NAVIGATING",cond:optionIsActive},{target:"INTERACTING",actions:g}],KEY_DOWN_ENTER:"INTERACTING",BLUR:[{target:"IDLE",cond:listboxLostFocus,actions:g},{target:"NAVIGATING",cond:shouldNavigate},{target:"INTERACTING",actions:g}],OPTION_TOUCH_START:{target:"NAVIGATING",actions:[A,g],cond:optionIsNavigable},OPTION_CLICK:{target:"IDLE",actions:[E,g,focusButton,selectOption],cond:optionIsSelectable},OPTION_PRESS:{target:"IDLE",actions:[E,g,focusButton,selectOption],cond:optionIsSelectable},OPTION_MOUSE_ENTER:{target:"NAVIGATING",actions:[A,g],cond:optionIsNavigable},KEY_DOWN_NAVIGATE:{target:"NAVIGATING",actions:[A,g,focusList]}}},OPEN:{on:{...D,CLEAR_NAV_SELECTION:{actions:[y]},KEY_DOWN_ENTER:{target:"IDLE",actions:[E,g,focusButton,selectOption],cond:optionIsSelectable},KEY_DOWN_SPACE:{target:"IDLE",actions:[E,g,focusButton,selectOption],cond:optionIsSelectable},BUTTON_MOUSE_DOWN:{target:"IDLE",actions:[focusButton]},KEY_DOWN_ESCAPE:{target:"IDLE",actions:[focusButton]},OPTION_MOUSE_DOWN:{target:"DRAGGING"},OUTSIDE_MOUSE_DOWN:[{target:"IDLE",cond:clickedOutsideOfListbox,actions:g},{target:"DRAGGING",cond:optionIsActive},{target:"INTERACTING",actions:g}],OUTSIDE_MOUSE_UP:[{target:"IDLE",cond:clickedOutsideOfListbox,actions:g},{target:"NAVIGATING",cond:optionIsActive},{target:"INTERACTING",actions:g}],BLUR:[{target:"IDLE",cond:listboxLostFocus,actions:g},{target:"NAVIGATING",cond:shouldNavigate},{target:"INTERACTING",actions:g}],BUTTON_MOUSE_UP:{target:"NAVIGATING",actions:[N,focusList]},LIST_MOUSE_UP:{target:"NAVIGATING",actions:[N,focusList]},OPTION_TOUCH_START:{target:"NAVIGATING",actions:[A,g],cond:optionIsNavigable},OPTION_CLICK:{target:"IDLE",actions:[E,g,focusButton,selectOption],cond:optionIsSelectable},OPTION_PRESS:{target:"IDLE",actions:[E,g,focusButton,selectOption],cond:optionIsSelectable},KEY_DOWN_NAVIGATE:{target:"NAVIGATING",actions:[A,g,focusList]},KEY_DOWN_SEARCH:{target:"NAVIGATING",actions:T},UPDATE_AFTER_TYPEAHEAD:{actions:[O]},CLEAR_TYPEAHEAD:{actions:g},OPTION_MOUSE_MOVE:[{target:"DRAGGING",actions:[A],cond:optionIsNavigable},{target:"DRAGGING"}]}},DRAGGING:{on:{...D,CLEAR_NAV_SELECTION:{actions:[y]},KEY_DOWN_ENTER:{target:"IDLE",actions:[E,g,focusButton,selectOption],cond:optionIsSelectable},KEY_DOWN_SPACE:{target:"IDLE",actions:[E,g,focusButton,selectOption],cond:optionIsSelectable},BUTTON_MOUSE_DOWN:{target:"IDLE",actions:[focusButton]},KEY_DOWN_ESCAPE:{target:"IDLE",actions:[focusButton]},OPTION_MOUSE_DOWN:{target:"DRAGGING"},OUTSIDE_MOUSE_DOWN:[{target:"IDLE",cond:clickedOutsideOfListbox,actions:g},{target:"NAVIGATING",cond:optionIsActive},{target:"INTERACTING",actions:g}],OUTSIDE_MOUSE_UP:[{target:"IDLE",cond:clickedOutsideOfListbox,actions:g},{target:"NAVIGATING",cond:optionIsActive,actions:focusList},{target:"INTERACTING",actions:[g,focusList]}],BLUR:[{target:"IDLE",cond:listboxLostFocus,actions:g},{target:"NAVIGATING",cond:shouldNavigate},{target:"INTERACTING",actions:g}],BUTTON_MOUSE_UP:{target:"NAVIGATING",actions:[N,focusList]},OPTION_TOUCH_START:{target:"NAVIGATING",actions:[A,g],cond:optionIsNavigable},OPTION_CLICK:{target:"IDLE",actions:[E,g,focusButton,selectOption],cond:optionIsSelectable},OPTION_PRESS:{target:"IDLE",actions:[E,g,focusButton,selectOption],cond:optionIsSelectable},OPTION_MOUSE_ENTER:{target:"DRAGGING",actions:[A,g],cond:optionIsNavigable},KEY_DOWN_NAVIGATE:{target:"NAVIGATING",actions:[A,g,focusList]},KEY_DOWN_SEARCH:{target:"NAVIGATING",actions:T},UPDATE_AFTER_TYPEAHEAD:{actions:[O]},CLEAR_TYPEAHEAD:{actions:g},OPTION_MOUSE_MOVE:[{target:"NAVIGATING",actions:[A],cond:optionIsNavigable},{target:"NAVIGATING"}],OPTION_MOUSE_UP:{target:"IDLE",actions:[E,g,focusButton,selectOption],cond:optionIsSelectable}}},NAVIGATING:{on:{...D,CLEAR_NAV_SELECTION:{actions:[y,focusList]},KEY_DOWN_ENTER:{target:"IDLE",actions:[E,g,focusButton,selectOption],cond:optionIsSelectable},KEY_DOWN_SPACE:{target:"IDLE",actions:[E,g,focusButton,selectOption],cond:optionIsSelectable},BUTTON_MOUSE_DOWN:{target:"IDLE",actions:[focusButton]},KEY_DOWN_ESCAPE:{target:"IDLE",actions:[focusButton]},OPTION_MOUSE_DOWN:{target:"DRAGGING"},OUTSIDE_MOUSE_DOWN:[{target:"IDLE",cond:clickedOutsideOfListbox,actions:g},{target:"NAVIGATING",cond:optionIsActive},{target:"INTERACTING",actions:g}],OUTSIDE_MOUSE_UP:[{target:"IDLE",cond:clickedOutsideOfListbox,actions:g},{target:"NAVIGATING",cond:optionIsActive},{target:"INTERACTING",actions:g}],BLUR:[{target:"IDLE",cond:listboxLostFocus,actions:g},{target:"NAVIGATING",cond:shouldNavigate},{target:"INTERACTING",actions:g}],BUTTON_MOUSE_UP:{target:"NAVIGATING",actions:[N,focusList]},OPTION_TOUCH_START:{target:"NAVIGATING",actions:[A,g],cond:optionIsNavigable},OPTION_CLICK:{target:"IDLE",actions:[E,g,focusButton,selectOption],cond:optionIsSelectable},OPTION_PRESS:{target:"IDLE",actions:[E,g,focusButton,selectOption],cond:optionIsSelectable},OPTION_MOUSE_ENTER:{target:"NAVIGATING",actions:[A,g],cond:optionIsNavigable},KEY_DOWN_NAVIGATE:{target:"NAVIGATING",actions:[A,g,focusList]},KEY_DOWN_SEARCH:{target:"NAVIGATING",actions:T},UPDATE_AFTER_TYPEAHEAD:{actions:[O]},CLEAR_TYPEAHEAD:{actions:g},OPTION_MOUSE_MOVE:[{target:"NAVIGATING",actions:[A],cond:optionIsNavigable},{target:"NAVIGATING"}]}}}});function findOptionFromTypeahead(t,n=""){if(!n)return null;let c=t.find(t=>!t.disabled&&t.label&&t.label.toLowerCase().startsWith(n.toLowerCase()));return c||null}var _=(0,b.nm)("ListboxDescendantContext"),S=createNamedContext("ListboxContext",{}),C=createNamedContext("ListboxGroupContext",{}),R=d.forwardRef(function({as:t="div","aria-labelledby":n,"aria-label":c,children:l,defaultValue:m,disabled:y=!1,form:g,name:E,onChange:w,required:A,value:N,__componentName:T="ListboxInput",...I},O){var D;let C=d.useRef(null!=N),[R,x]=(0,b.f5)(),L=d.useRef(null),k=d.useRef(null),U=d.useRef(null),P=d.useRef(null),q=d.useRef(null),M=d.useRef(null),G=d.useRef(null),[j,F]=function(t,n,c){let l=d.useRef(t),p=reach_utils_useConstant(()=>{var t,n,c,d,p;return(n=(t=l.current).initialState,c=f.NotStarted,d=new Set,p={_machine:t,send:function(l){c===f.Running&&(s(n=t.transition(n,l),a(l)),d.forEach(function(t){return t(n)}))},subscribe:function(t){return d.add(t),t(n),{unsubscribe:function(){return d.delete(t)}}},start:function(){return c=f.Running,s(n,v),p},stop:function(){return c=f.Stopped,d.clear(),p},get state(){return n},get status(){return c}}).start()}),m=d.useRef(null),[b,h]=d.useState(()=>getServiceState(p)),y=d.useCallback(t=>{let l="string"==typeof t?{type:t}:t,f=Object.entries(n).reduce((t,[n,c])=>(t[n]=c.current,t),{});p.send({...l,lastEventType:m.current,refs:f}),m.current=l.type,c&&(console.group("Event Sent"),console.log("Event:",l),console.groupEnd())},[c]);d.useEffect(()=>(p.subscribe(function(t){t.changed&&h(t)}),()=>{p.stop()}),[p]),d.useEffect(()=>{c&&b.changed&&(console.group("State Updated"),console.log("State:",b),console.groupEnd())},[c,b]);let g=d.useMemo(()=>({...b,matches:t=>t===b.value}),[b.changed,b.context,b.value]);return[g,y,p]}((D=createMachineDefinition({value:(C.current?N:m)||null}),reach_utils_useConstant(()=>{var t,n;return t=void 0,n={config:D,_options:t={},initialState:{value:D.initial,actions:e(D.states[D.initial].entry).map(function(n){return i(n,t.actions)}),context:D.context,matches:o(D.initial)},transition:function(t,c){var l,f,d="string"==typeof t?{value:t,context:D.context}:t,p=d.value,m=d.context,b=a(c),h=D.states[p];if(h.on){var v=e(h.on[b.type]);try{for(var y,g,E,w=(y=v,g="function"==typeof Symbol&&y[Symbol.iterator],E=0,g?g.call(y):{next:function(){return y&&E>=y.length&&(y=void 0),{value:y&&y[E++],done:!y}}}),A=w.next();!A.done;A=w.next()){var N=function(t){if(void 0===t)return{value:u(p,m)};var c="string"==typeof t?{target:t}:t,l=c.target,f=void 0===l?p:l,d=c.actions,v=c.cond,y=m;if((void 0===v?function(){return!0}:v)(m,b)){var g=D.states[f],E=!1,w=[].concat(h.exit,void 0===d?[]:d,g.entry).filter(function(t){return t}).map(function(t){return i(t,n._options.actions)}).filter(function(t){if("xstate.assign"===t.type){E=!0;var n=Object.assign({},y);return"function"==typeof t.assignment?n=t.assignment(y,b):Object.keys(t.assignment).forEach(function(c){n[c]="function"==typeof t.assignment[c]?t.assignment[c](y,b):t.assignment[c]}),y=n,!1}return!0});return{value:{value:f,context:y,actions:w,changed:f!==p||w.length>0||E,matches:o(f)}}}}(A.value);if("object"==typeof N)return N.value}}catch(t){l={error:t}}finally{try{A&&!A.done&&(f=w.return)&&f.call(w)}finally{if(l)throw l.error}}}return u(p,m)}}})),{button:L,hiddenInput:k,highlightedOption:U,input:P,list:q,popover:M,selectedOption:G},!1),B=(0,p.M)(I.id),V=I.id||makeId("listbox-input",B),$=useComposedRefs(P,O),W=d.useMemo(()=>{let t=R.find(t=>t.value===j.context.value);return t?t.label:null},[R,j.context.value]),H=["NAVIGATING","OPEN","DRAGGING","INTERACTING"].includes(j.value),Y={ariaLabel:c,ariaLabelledBy:n,buttonRef:L,disabled:y,highlightedOptionRef:U,isExpanded:H,listboxId:V,listboxValueLabel:W,listRef:q,onValueChange:function(t){t!==j.context.value&&w?.(t)},popoverRef:M,selectedOptionRef:G,send:F,state:j.value,stateData:j.context},K=d.useRef(!1);if(!C.current&&null==m&&!K.current&&R.length){K.current=!0;let t=R.find(t=>!t.disabled);t&&t.value&&F({type:"VALUE_CHANGE",value:t.value})}return!function(t,n,c){{let l=(0,d.useRef)(null!=t),f=(0,d.useRef)({componentName:c,controlledPropName:n});(0,d.useEffect)(()=>{f.current={componentName:c,controlledPropName:n}},[c,n]),(0,d.useEffect)(()=>{let{current:n}=l,{componentName:c,controlledPropName:d}=f.current;n!==(null!=t)&&console.error(`A component is changing an ${n?"":"un"}controlled \`${d}\` state of ${c} to be ${n?"un":""}controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled ${c} element for the lifetime of the component.
      More info: https://fb.me/react-controlled-components`)},[t])}}(N,"value",T),function(t,n,c){let{current:l}=d.useRef(null!=t);l&&t!==n&&c()}(N,j.context.value,()=>{F({type:"VALUE_CHANGE",value:N})}),h(()=>{F({type:"GET_DERIVED_DATA",data:{options:R}})},[R,F]),d.useEffect(()=>{function handleMouseDown(t){let{target:n,relatedTarget:c}=t;popoverContainsEventTarget(M.current,n)||F({type:"OUTSIDE_MOUSE_DOWN",relatedTarget:c||n})}return H&&window.addEventListener("mousedown",handleMouseDown),()=>{window.removeEventListener("mousedown",handleMouseDown)}},[F,H]),d.useEffect(()=>{function handleMouseUp(t){let{target:n,relatedTarget:c}=t;popoverContainsEventTarget(M.current,n)||F({type:"OUTSIDE_MOUSE_UP",relatedTarget:c||n})}return H&&window.addEventListener("mouseup",handleMouseUp),()=>{window.removeEventListener("mouseup",handleMouseUp)}},[F,H]),d.useEffect(()=>{let t=k.current?.form;if(t)return t.addEventListener("reset",handleReset),()=>{t?.removeEventListener("reset",handleReset)};function handleReset(t){F({type:"RESET_VALUE",isControlled:C.current})}},[P,C,F]),d.createElement(t,{...I,ref:$,"data-reach-listbox-input":"","data-state":H?"expanded":"closed","data-value":j.context.value,id:V},d.createElement(S.Provider,{value:Y},d.createElement(b.w_,{context:_,items:R,set:x},isFunction(l)?l({id:V,isExpanded:H,value:j.context.value,selectedOptionRef:G,highlightedOptionRef:U,valueLabel:W,expanded:H}):l,(g||E||A)&&d.createElement("input",{ref:k,"data-reach-listbox-hidden-input":"",disabled:y,form:g,name:E,readOnly:!0,required:A,tabIndex:-1,type:"hidden",value:j.context.value||""}))))});R.displayName="ListboxInput",d.forwardRef(function({arrow:t="â–¼",button:n,children:c,portal:l=!0,...f},p){return d.createElement(R,{...f,__componentName:"Listbox",ref:p},({value:f,valueLabel:p})=>d.createElement(d.Fragment,null,d.createElement(L,{arrow:t,children:n?isFunction(n)?n({value:f,label:p}):n:void 0}),d.createElement(q,{portal:l},d.createElement(M,null,c))))}).displayName="Listbox";var x=d.forwardRef(function({"aria-label":t,arrow:n=!1,as:c="span",children:l,onKeyDown:f,onMouseDown:p,onMouseUp:m,...b},h){let{buttonRef:v,send:y,ariaLabelledBy:g,disabled:E,isExpanded:w,listboxId:A,stateData:N,listboxValueLabel:T}=d.useContext(S),I=N.value,O=useComposedRefs(v,h),D=useKeyDown(),_=makeId("button",A),C=d.useMemo(()=>l?isFunction(l)?l({isExpanded:w,label:T,value:I,expanded:w}):l:T,[l,T,w,I]);return d.createElement(c,{"aria-disabled":E||void 0,"aria-expanded":w||void 0,"aria-haspopup":"listbox","aria-labelledby":t?void 0:[g,_].filter(Boolean).join(" "),"aria-label":t,role:"button",tabIndex:E?-1:0,...b,ref:O,"data-reach-listbox-button":"",id:_,onKeyDown:composeEventHandlers(f,D),onMouseDown:composeEventHandlers(p,function(t){isRightClick(t.nativeEvent)||(t.preventDefault(),t.stopPropagation(),y({type:"BUTTON_MOUSE_DOWN",disabled:E}))}),onMouseUp:composeEventHandlers(m,function(t){isRightClick(t.nativeEvent)||(t.preventDefault(),t.stopPropagation(),y({type:"BUTTON_MOUSE_UP"}))})},C,n&&d.createElement(U,null,"boolean"==typeof n?null:n))});x.displayName="ListboxButton";var L=d.memo(x),k=d.forwardRef(function({as:t="span",children:n,...c},l){let{isExpanded:f}=d.useContext(S);return d.createElement(t,{"aria-hidden":!0,...c,ref:l,"data-reach-listbox-arrow":"","data-expanded":f?"":void 0},isFunction(n)?n({isExpanded:f,expanded:f}):n||"â–¼")});k.displayName="ListboxArrow";var U=d.memo(k),P=d.forwardRef(function({as:t="div",position:n=m.g0,onBlur:c,onKeyDown:l,onMouseUp:f,portal:p=!0,unstable_observableRefs:b,...h},v){let{isExpanded:y,buttonRef:g,popoverRef:E,send:w}=d.useContext(S),A=useComposedRefs(E,v),N=useKeyDown(),T={hidden:!y,tabIndex:-1,...h,ref:A,"data-reach-listbox-popover":"",onMouseUp:composeEventHandlers(f,function(){w({type:"LIST_MOUSE_UP"})}),onBlur:composeEventHandlers(c,function(t){let{nativeEvent:n}=t;requestAnimationFrame(()=>{w({type:"BLUR",relatedTarget:n.relatedTarget||n.target})})}),onKeyDown:composeEventHandlers(l,N)};return p?d.createElement(m.J2,{...T,as:t,targetRef:g,position:n,unstable_observableRefs:b,unstable_skipInitialPortalRender:!0}):d.createElement(t,{...T})});P.displayName="ListboxPopover";var q=d.memo(P),M=d.forwardRef(function({as:t="ul",...n},c){let{listRef:l,ariaLabel:f,ariaLabelledBy:p,isExpanded:m,listboxId:b,stateData:{value:h,navigationValue:v}}=d.useContext(S),y=useComposedRefs(c,l);return d.createElement(t,{"aria-activedescendant":useOptionId(m?v:h),"aria-labelledby":f?void 0:p,"aria-label":f,role:"listbox",tabIndex:-1,...n,ref:y,"data-reach-listbox-list":"",id:makeId("listbox",b)})});M.displayName="ListboxList";var G=d.forwardRef(function({as:t="li",children:n,disabled:c,index:l,label:f,onClick:p,onMouseDown:m,onMouseEnter:h,onMouseLeave:v,onMouseMove:y,onMouseUp:g,onTouchStart:E,value:w,...A},N){let{highlightedOptionRef:T,selectedOptionRef:I,send:O,isExpanded:D,onValueChange:C,state:R,stateData:{value:x,navigationValue:L}}=d.useContext(S),[k,U]=d.useState(f),P=f||k||"",[q,M]=function(t,n){let[c,l]=(0,d.useState)(null);return[c,(0,d.useCallback)(n=>{t.current=n,l(n)},[])]}(d.useRef(null),0),G=d.useMemo(()=>({element:q,value:w,label:P,disabled:!!c}),[c,q,P,w]);(0,b.Yf)(G,_,l);let j=d.useCallback(t=>{!f&&t&&U(n=>t.textContent&&n!==t.textContent?t.textContent:n||"")},[f]),F=!!L&&L===w,B=x===w,V=useComposedRefs(j,N,M,B?I:null,F?T:null);return d.createElement(t,{"aria-selected":(D?F:B)||void 0,"aria-disabled":c||void 0,role:"option",...A,ref:V,id:useOptionId(w),"data-reach-listbox-option":"","data-current-nav":F?"":void 0,"data-current-selected":B?"":void 0,"data-label":P,"data-value":w,onClick:composeEventHandlers(p,function(t){isRightClick(t.nativeEvent)||O({type:"OPTION_CLICK",value:w,callback:C,disabled:!!c})}),onMouseDown:composeEventHandlers(m,function(t){isRightClick(t.nativeEvent)||(t.preventDefault(),O({type:"OPTION_MOUSE_DOWN"}))}),onMouseEnter:composeEventHandlers(h,function(){O({type:"OPTION_MOUSE_ENTER",value:w,disabled:!!c})}),onMouseLeave:composeEventHandlers(v,function(){O({type:"CLEAR_NAV_SELECTION"})}),onMouseMove:composeEventHandlers(y,function(){("OPEN"===R||L!==w)&&O({type:"OPTION_MOUSE_MOVE",value:w,disabled:!!c})}),onMouseUp:composeEventHandlers(g,function(t){isRightClick(t.nativeEvent)||O({type:"OPTION_MOUSE_UP",value:w,callback:C,disabled:!!c})}),onTouchStart:composeEventHandlers(E,function(){O({type:"OPTION_TOUCH_START",value:w,disabled:!!c})})},n)});G.displayName="ListboxOption",d.forwardRef(function({as:t="div",label:n,children:c,...l},f){let{listboxId:m}=d.useContext(S),b=makeId("label",(0,p.M)(l.id),m);return d.createElement(C.Provider,{value:{labelId:b}},d.createElement(t,{"aria-labelledby":b,role:"group",...l,"data-reach-listbox-group":"",ref:f},n&&d.createElement(j,null,n),c))}).displayName="ListboxGroup";var j=d.forwardRef(function({as:t="span",...n},c){let{labelId:l}=d.useContext(C);return d.createElement(t,{role:"presentation",...n,ref:c,"data-reach-listbox-group-label":"",id:l})});function useListboxContext(){let{highlightedOptionRef:t,selectedOptionRef:n,listboxId:c,listboxValueLabel:l,isExpanded:f,stateData:{value:p}}=d.useContext(S);return d.useMemo(()=>({id:c,isExpanded:f,selectedOptionRef:n,highlightedOptionRef:t,value:p,valueLabel:l}),[c,f,p,l,n,t])}function useKeyDown(){var t;let n,{send:c,disabled:l,onValueChange:f,stateData:{navigationValue:p,typeaheadQuery:m}}=d.useContext(S),h=(0,b.Ak)(_),v=(t=d.useEffect,n=(0,d.useRef)(f),t(()=>{n.current=f}),(0,d.useCallback)((...t)=>{n.current&&n.current(...t)},[]));d.useEffect(()=>{m&&c({type:"UPDATE_AFTER_TYPEAHEAD",query:m,callback:v});let t=window.setTimeout(()=>{null!=m&&c({type:"CLEAR_TYPEAHEAD"})},1e3);return()=>{window.clearTimeout(t)}},[v,c,m]);let y=h.findIndex(({value:t})=>t===p);return composeEventHandlers(function(t){let{key:n}=t,d="string"==typeof n&&1===n.length,m=h.find(t=>t.value===p);switch(n){case"Enter":c({type:"KEY_DOWN_ENTER",value:p,callback:f,disabled:!!(m?.disabled||l)});return;case" ":t.preventDefault(),c({type:"KEY_DOWN_SPACE",value:p,callback:f,disabled:!!(m?.disabled||l)});return;case"Escape":c({type:"KEY_DOWN_ESCAPE"});return;case"Tab":c({type:t.shiftKey?"KEY_DOWN_SHIFT_TAB":"KEY_DOWN_TAB"});return;default:d&&c({type:"KEY_DOWN_SEARCH",query:n,disabled:l});return}},(0,b.Dv)(_,{currentIndex:y,orientation:"vertical",key:"index",rotate:!0,filter:t=>!t.disabled,callback(t){c({type:"KEY_DOWN_NAVIGATE",value:h[t].value,disabled:l})}}))}function useOptionId(t){let{listboxId:n}=d.useContext(S);return t?makeId(`option-${t}`,n):void 0}function popoverContainsEventTarget(t,n){return!!(t&&t.contains(n))}j.displayName="ListboxGroupLabel"},9757:function(t,n,c){c.d(n,{Z:function(){return ascending}});function ascending(t,n){return null==t||null==n?NaN:t<n?-1:t>n?1:t>=n?0:NaN}},76348:function(t,n,c){c.d(n,{Bj:function(){return d},ue:function(){return f}});var l=(0,c(59038).Z)(","),f=l.parse,d=l.parseRows;l.format,l.formatBody,l.formatRows,l.formatRow,l.formatValue},59038:function(t,n,c){c.d(n,{Z:function(){return __WEBPACK_DEFAULT_EXPORT__}});var l={},f={};function objectConverter(t){return Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function inferColumns(t){var n=Object.create(null),c=[];return t.forEach(function(t){for(var l in t)l in n||c.push(n[l]=l)}),c}function pad(t,n){var c=t+"",l=c.length;return l<n?Array(n-l+1).join(0)+c:c}function __WEBPACK_DEFAULT_EXPORT__(t){var n=RegExp('["'+t+"\n\r]"),c=t.charCodeAt(0);function parseRows(t,n){var d,p=[],m=t.length,b=0,h=0,v=m<=0,y=!1;function token(){if(v)return f;if(y)return y=!1,l;var n,d,p=b;if(34===t.charCodeAt(p)){for(;b++<m&&34!==t.charCodeAt(b)||34===t.charCodeAt(++b););return(n=b)>=m?v=!0:10===(d=t.charCodeAt(b++))?y=!0:13===d&&(y=!0,10===t.charCodeAt(b)&&++b),t.slice(p+1,n-1).replace(/""/g,'"')}for(;b<m;){if(10===(d=t.charCodeAt(n=b++)))y=!0;else if(13===d)y=!0,10===t.charCodeAt(b)&&++b;else if(d!==c)continue;return t.slice(p,n)}return v=!0,t.slice(p,m)}for(10===t.charCodeAt(m-1)&&--m,13===t.charCodeAt(m-1)&&--m;(d=token())!==f;){for(var g=[];d!==l&&d!==f;)g.push(d),d=token();n&&null==(g=n(g,h++))||p.push(g)}return p}function preformatBody(n,c){return n.map(function(n){return c.map(function(t){return formatValue(n[t])}).join(t)})}function formatRow(n){return n.map(formatValue).join(t)}function formatValue(t){var c,l,f,d,p,m;return null==t?"":t instanceof Date?(l=(c=t).getUTCHours(),f=c.getUTCMinutes(),d=c.getUTCSeconds(),p=c.getUTCMilliseconds(),isNaN(c)?"Invalid Date":((m=c.getUTCFullYear())<0?"-"+pad(-m,6):m>9999?"+"+pad(m,6):pad(m,4))+"-"+pad(c.getUTCMonth()+1,2)+"-"+pad(c.getUTCDate(),2)+(p?"T"+pad(l,2)+":"+pad(f,2)+":"+pad(d,2)+"."+pad(p,3)+"Z":d?"T"+pad(l,2)+":"+pad(f,2)+":"+pad(d,2)+"Z":f||l?"T"+pad(l,2)+":"+pad(f,2)+"Z":"")):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var c,l,f=parseRows(t,function(t,f){var d;if(c)return c(t,f-1);l=t,c=n?(d=objectConverter(t),function(c,l){return n(d(c),l,t)}):objectConverter(t)});return f.columns=l||[],f},parseRows:parseRows,format:function(n,c){return null==c&&(c=inferColumns(n)),[c.map(formatValue).join(t)].concat(preformatBody(n,c)).join("\n")},formatBody:function(t,n){return null==n&&(n=inferColumns(t)),preformatBody(t,n).join("\n")},formatRows:function(t){return t.map(formatRow).join("\n")},formatRow:formatRow,formatValue:formatValue}}},98280:function(t,n,c){c.d(n,{ZP:function(){return nogamma},wx:function(){return hue},yi:function(){return gamma}});var l=c(22954);function linear(t,n){return function(c){return t+c*n}}function hue(t,n){var c=n-t;return c?linear(t,c>180||c<-180?c-360*Math.round(c/360):c):(0,l.Z)(isNaN(t)?n:t)}function gamma(t){return 1==(t=+t)?nogamma:function(n,c){var f,d,p;return c-n?(f=n,d=c,f=Math.pow(f,p=t),d=Math.pow(d,p)-f,p=1/p,function(t){return Math.pow(f+t*d,p)}):(0,l.Z)(isNaN(n)?c:n)}}function nogamma(t,n){var c=n-t;return c?linear(t,c):(0,l.Z)(isNaN(t)?n:t)}},22954:function(t,n){n.Z=t=>()=>t},79591:function(t,n,c){c.d(n,{ZP:function(){return d},hD:function(){return p}});var l=c(4447);function basis(t,n,c,l,f){var d=t*t,p=d*t;return((1-3*t+3*d-p)*n+(4-6*d+3*p)*c+(1+3*t+3*d-3*p)*l+p*f)/6}var f=c(98280),d=function rgbGamma(t){var n=(0,f.yi)(t);function rgb(t,c){var d=n((t=(0,l.B8)(t)).r,(c=(0,l.B8)(c)).r),p=n(t.g,c.g),m=n(t.b,c.b),b=(0,f.ZP)(t.opacity,c.opacity);return function(n){return t.r=d(n),t.g=p(n),t.b=m(n),t.opacity=b(n),t+""}}return rgb.gamma=rgbGamma,rgb}(1);function rgbSpline(t){return function(n){var c,f,d=n.length,p=Array(d),m=Array(d),b=Array(d);for(c=0;c<d;++c)f=(0,l.B8)(n[c]),p[c]=f.r||0,m[c]=f.g||0,b[c]=f.b||0;return p=t(p),m=t(m),b=t(b),f.opacity=1,function(t){return f.r=p(t),f.g=m(t),f.b=b(t),f+""}}}var p=rgbSpline(function(t){var n=t.length-1;return function(c){var l=c<=0?c=0:c>=1?(c=1,n-1):Math.floor(c*n),f=t[l],d=t[l+1],p=l>0?t[l-1]:2*f-d,m=l<n-1?t[l+2]:2*d-f;return basis((c-l/n)*n,p,f,d,m)}});rgbSpline(function(t){var n=t.length;return function(c){var l=Math.floor(((c%=1)<0?++c:c)*n),f=t[(l+n-1)%n],d=t[l%n],p=t[(l+1)%n],m=t[(l+2)%n];return basis((c-l/n)*n,f,d,p,m)}})},88961:function(t,n,c){c.d(n,{ZW:function(){return requireFrom},f1:function(){return resolveFrom},pF:function(){return y}});let l=new Map,f=[],d=f.map,p=f.some,m=f.hasOwnProperty,b=/^((?:@[^/@]+\/)?[^/@]+)(?:@([^/]+))?(?:\/(.*))?$/,h=/^\d+\.\d+\.\d+(-[\w-.+]+)?$/,v=/(?:\.[^/]*|\/)$/;let RequireError=class RequireError extends Error{constructor(t){super(t)}};function parseIdentifier(t){let n=b.exec(t);return n&&{name:n[1],version:n[2],path:n[3]}}function resolveFrom(t="https://cdn.jsdelivr.net/npm/",n=["unpkg","jsdelivr","browser","main"]){if(!/\/$/.test(t))throw Error("origin lacks trailing slash");function resolveMeta(n){let c=`${t}${n.name}${n.version?`@${n.version}`:""}/package.json`,f=l.get(c);return f||l.set(c,f=fetch(c).then(t=>{if(!t.ok)throw new RequireError("unable to load package.json");return t.redirected&&!l.has(t.url)&&l.set(t.url,f),t.json()})),f}return async function(c,l){if(c.startsWith(t)&&(c=c.substring(t.length)),/^(\w+:)|\/\//i.test(c))return c;if(/^[.]{0,2}\//i.test(c))return new URL(c,null==l?location:l).href;if(!c.length||/^[\s._]/.test(c)||/\s$/.test(c))throw new RequireError("illegal name");let f=parseIdentifier(c);if(!f)return`${t}${c}`;if(!f.version&&null!=l&&l.startsWith(t)){let n=await resolveMeta(parseIdentifier(l.substring(t.length)));f.version=n.dependencies&&n.dependencies[f.name]||n.peerDependencies&&n.peerDependencies[f.name]}if(f.path&&!v.test(f.path)&&(f.path+=".js"),f.path&&f.version&&h.test(f.version))return`${t}${f.name}@${f.version}/${f.path}`;let d=await resolveMeta(f);return`${t}${d.name}@${d.version}/${f.path||function(t){for(let c of n){let n=t[c];if("string"==typeof n)return n.startsWith("./")&&(n=n.slice(2)),v.test(n)?n:`${n}.js`}}(d)||"index.js"}`}}RequireError.prototype.name=RequireError.name;var y=requireFrom(resolveFrom());function requireFrom(t){let n=new Map,c=requireRelative(null);function requireAbsolute(t){if("string"!=typeof t)return t;let c=n.get(t);return c||n.set(t,c=new Promise((n,c)=>{let l=document.createElement("script");l.onload=()=>{try{n(f.pop()(requireRelative(t)))}catch(t){c(new RequireError("invalid module"))}l.remove()},l.onerror=()=>{c(new RequireError("unable to load module")),l.remove()},l.async=!0,l.src=t,window.define=define,document.head.appendChild(l)})),c}function requireRelative(n){return c=>Promise.resolve(t(c,n)).then(requireAbsolute)}function require(t){return arguments.length>1?Promise.all(d.call(arguments,c)).then(merge):c(t)}return require.alias=function(n){return requireFrom((c,l)=>c in n&&(c=n[c],l=null,"string"!=typeof c)?c:t(c,l))},require.resolve=t,require}function merge(t){let n={};for(let c of t)for(let t in c)m.call(c,t)&&(null==c[t]?Object.defineProperty(n,t,{get:function(t,n){return()=>t[n]}(c,t)}):n[t]=c[t]);return n}function isbuiltin(t){return"exports"==(t+="")||"module"===t}function define(t,n,c){let l=arguments.length;l<2?(c=t,n=[]):l<3&&(c=n,n="string"==typeof t?[]:t),f.push(p.call(n,isbuiltin)?t=>{let l={},f={exports:l};return Promise.all(d.call(n,n=>"exports"==(n+="")?l:"module"===n?f:t(n))).then(t=>(c.apply(null,t),f.exports))}:t=>Promise.all(d.call(n,t)).then(t=>"function"==typeof c?c.apply(null,t):c))}define.amd={}},1438:function(t,n,c){function format(t,n){var c;if(t instanceof Date||(t=new Date(+t)),isNaN(t))return"function"==typeof n?n(t):n;let l=t.getUTCHours(),f=t.getUTCMinutes(),d=t.getUTCSeconds(),p=t.getUTCMilliseconds();return`${(c=t.getUTCFullYear())<0?`-${pad(-c,6)}`:c>9999?`+${pad(c,6)}`:pad(c,4)}-${pad(t.getUTCMonth()+1,2)}-${pad(t.getUTCDate(),2)}${l||f||d||p?`T${pad(l,2)}:${pad(f,2)}${d||p?`:${pad(d,2)}${p?`.${pad(p,3)}`:""}`:""}Z`:""}`}function pad(t,n){return`${t}`.padStart(n,"0")}c.d(n,{Z:function(){return format}})}}]);